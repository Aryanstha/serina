var pn=Object.defineProperty,mn=Object.defineProperties;var gn=Object.getOwnPropertyDescriptors;var Xi=Object.getOwnPropertySymbols;var _n=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable;var Ki=(n,e,t)=>e in n?pn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||(e={}))_n.call(e,t)&&Ki(n,t,e[t]);if(Xi)for(var t of Xi(e))yn.call(e,t)&&Ki(n,t,e[t]);return n},At=(n,e)=>mn(n,gn(e));const vn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};vn();var Z="top",ie="bottom",oe="right",J="left",Ft="auto",rt=[Z,ie,oe,J],Be="start",Je="end",sa="clippingParents",Ei="viewport",Ke="popper",la="reference",bi=rt.reduce(function(n,e){return n.concat([e+"-"+Be,e+"-"+Je])},[]),Ti=[].concat(rt,[Ft]).reduce(function(n,e){return n.concat([e,e+"-"+Be,e+"-"+Je])},[]),fa="beforeRead",ca="read",da="afterRead",ha="beforeMain",ba="main",ua="afterMain",pa="beforeWrite",ma="write",ga="afterWrite",_a=[fa,ca,da,ha,ba,ua,pa,ma,ga];function ke(n){return n?(n.nodeName||"").toLowerCase():null}function ge(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function et(n){var e=ge(n).Element;return n instanceof e||n instanceof Element}function ce(n){var e=ge(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function ki(n){if(typeof ShadowRoot=="undefined")return!1;var e=ge(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function wn(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!ce(a)||!ke(a)||(Object.assign(a.style,i),Object.keys(o).forEach(function(r){var s=o[r];s===!1?a.removeAttribute(r):a.setAttribute(r,s===!0?"":s)}))})}function xn(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],a=e.attributes[i]||{},r=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),s=r.reduce(function(l,f){return l[f]="",l},{});!ce(o)||!ke(o)||(Object.assign(o.style,s),Object.keys(a).forEach(function(l){o.removeAttribute(l)}))})}}var Ai={name:"applyStyles",enabled:!0,phase:"write",fn:wn,effect:xn,requires:["computeStyles"]};function Ee(n){return n.split("-")[0]}var Ve=Math.max,Nt=Math.min,tt=Math.round;function it(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),i=1,o=1;if(ce(n)&&e){var a=n.offsetHeight,r=n.offsetWidth;r>0&&(i=tt(t.width)/r||1),a>0&&(o=tt(t.height)/a||1)}return{width:t.width/i,height:t.height/o,top:t.top/o,right:t.right/i,bottom:t.bottom/o,left:t.left/i,x:t.left/i,y:t.top/o}}function Si(n){var e=it(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function ya(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&ki(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ce(n){return ge(n).getComputedStyle(n)}function En(n){return["table","td","th"].indexOf(ke(n))>=0}function Le(n){return((et(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ut(n){return ke(n)==="html"?n:n.assignedSlot||n.parentNode||(ki(n)?n.host:null)||Le(n)}function Qi(n){return!ce(n)||Ce(n).position==="fixed"?null:n.offsetParent}function Tn(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&ce(n)){var i=Ce(n);if(i.position==="fixed")return null}var o=Ut(n);for(ki(o)&&(o=o.host);ce(o)&&["html","body"].indexOf(ke(o))<0;){var a=Ce(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function wt(n){for(var e=ge(n),t=Qi(n);t&&En(t)&&Ce(t).position==="static";)t=Qi(t);return t&&(ke(t)==="html"||ke(t)==="body"&&Ce(t).position==="static")?e:t||Tn(n)||e}function Ci(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function gt(n,e,t){return Ve(n,Nt(e,t))}function kn(n,e,t){var i=gt(n,e,t);return i>t?t:i}function va(){return{top:0,right:0,bottom:0,left:0}}function wa(n){return Object.assign({},va(),n)}function xa(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var An=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,wa(typeof e!="number"?e:xa(e,rt))};function Sn(n){var e,t=n.state,i=n.name,o=n.options,a=t.elements.arrow,r=t.modifiersData.popperOffsets,s=Ee(t.placement),l=Ci(s),f=[J,oe].indexOf(s)>=0,c=f?"height":"width";if(!(!a||!r)){var h=An(o.padding,t),d=Si(a),b=l==="y"?Z:J,p=l==="y"?ie:oe,u=t.rects.reference[c]+t.rects.reference[l]-r[l]-t.rects.popper[c],g=r[l]-t.rects.reference[l],v=wt(a),x=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,C=u/2-g/2,w=h[b],S=x-d[c]-h[p],E=x/2-d[c]/2+C,P=gt(w,E,S),k=l;t.modifiersData[i]=(e={},e[k]=P,e.centerOffset=P-E,e)}}function Cn(n){var e=n.state,t=n.options,i=t.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!ya(e.elements.popper,o)||(e.elements.arrow=o))}var Ea={name:"arrow",enabled:!0,phase:"main",fn:Sn,effect:Cn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ot(n){return n.split("-")[1]}var On={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pn(n){var e=n.x,t=n.y,i=window,o=i.devicePixelRatio||1;return{x:tt(e*o)/o||0,y:tt(t*o)/o||0}}function Zi(n){var e,t=n.popper,i=n.popperRect,o=n.placement,a=n.variation,r=n.offsets,s=n.position,l=n.gpuAcceleration,f=n.adaptive,c=n.roundOffsets,h=n.isFixed,d=r.x,b=d===void 0?0:d,p=r.y,u=p===void 0?0:p,g=typeof c=="function"?c({x:b,y:u}):{x:b,y:u};b=g.x,u=g.y;var v=r.hasOwnProperty("x"),x=r.hasOwnProperty("y"),C=J,w=Z,S=window;if(f){var E=wt(t),P="clientHeight",k="clientWidth";if(E===ge(t)&&(E=Le(t),Ce(E).position!=="static"&&s==="absolute"&&(P="scrollHeight",k="scrollWidth")),E=E,o===Z||(o===J||o===oe)&&a===Je){w=ie;var D=h&&E===S&&S.visualViewport?S.visualViewport.height:E[P];u-=D-i.height,u*=l?1:-1}if(o===J||(o===Z||o===ie)&&a===Je){C=oe;var N=h&&E===S&&S.visualViewport?S.visualViewport.width:E[k];b-=N-i.width,b*=l?1:-1}}var y=Object.assign({position:s},f&&On),_=c===!0?Pn({x:b,y:u}):{x:b,y:u};if(b=_.x,u=_.y,l){var A;return Object.assign({},y,(A={},A[w]=x?"0":"",A[C]=v?"0":"",A.transform=(S.devicePixelRatio||1)<=1?"translate("+b+"px, "+u+"px)":"translate3d("+b+"px, "+u+"px, 0)",A))}return Object.assign({},y,(e={},e[w]=x?u+"px":"",e[C]=v?b+"px":"",e.transform="",e))}function Rn(n){var e=n.state,t=n.options,i=t.gpuAcceleration,o=i===void 0?!0:i,a=t.adaptive,r=a===void 0?!0:a,s=t.roundOffsets,l=s===void 0?!0:s,f={placement:Ee(e.placement),variation:ot(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Zi(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Zi(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Oi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rn,data:{}},St={passive:!0};function Ln(n){var e=n.state,t=n.instance,i=n.options,o=i.scroll,a=o===void 0?!0:o,r=i.resize,s=r===void 0?!0:r,l=ge(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(c){c.addEventListener("scroll",t.update,St)}),s&&l.addEventListener("resize",t.update,St),function(){a&&f.forEach(function(c){c.removeEventListener("scroll",t.update,St)}),s&&l.removeEventListener("resize",t.update,St)}}var Pi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ln,data:{}},Mn={left:"right",right:"left",bottom:"top",top:"bottom"};function Lt(n){return n.replace(/left|right|bottom|top/g,function(e){return Mn[e]})}var Dn={start:"end",end:"start"};function Ji(n){return n.replace(/start|end/g,function(e){return Dn[e]})}function Ri(n){var e=ge(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Li(n){return it(Le(n)).left+Ri(n).scrollLeft}function Nn(n){var e=ge(n),t=Le(n),i=e.visualViewport,o=t.clientWidth,a=t.clientHeight,r=0,s=0;return i&&(o=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=i.offsetLeft,s=i.offsetTop)),{width:o,height:a,x:r+Li(n),y:s}}function In(n){var e,t=Le(n),i=Ri(n),o=(e=n.ownerDocument)==null?void 0:e.body,a=Ve(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=Ve(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-i.scrollLeft+Li(n),l=-i.scrollTop;return Ce(o||t).direction==="rtl"&&(s+=Ve(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:r,x:s,y:l}}function Mi(n){var e=Ce(n),t=e.overflow,i=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+i)}function Ta(n){return["html","body","#document"].indexOf(ke(n))>=0?n.ownerDocument.body:ce(n)&&Mi(n)?n:Ta(Ut(n))}function _t(n,e){var t;e===void 0&&(e=[]);var i=Ta(n),o=i===((t=n.ownerDocument)==null?void 0:t.body),a=ge(i),r=o?[a].concat(a.visualViewport||[],Mi(i)?i:[]):i,s=e.concat(r);return o?s:s.concat(_t(Ut(r)))}function ui(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function zn(n){var e=it(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function eo(n,e){return e===Ei?ui(Nn(n)):et(e)?zn(e):ui(In(Le(n)))}function $n(n){var e=_t(Ut(n)),t=["absolute","fixed"].indexOf(Ce(n).position)>=0,i=t&&ce(n)?wt(n):n;return et(i)?e.filter(function(o){return et(o)&&ya(o,i)&&ke(o)!=="body"}):[]}function Fn(n,e,t){var i=e==="clippingParents"?$n(n):[].concat(e),o=[].concat(i,[t]),a=o[0],r=o.reduce(function(s,l){var f=eo(n,l);return s.top=Ve(f.top,s.top),s.right=Nt(f.right,s.right),s.bottom=Nt(f.bottom,s.bottom),s.left=Ve(f.left,s.left),s},eo(n,a));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function ka(n){var e=n.reference,t=n.element,i=n.placement,o=i?Ee(i):null,a=i?ot(i):null,r=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,l;switch(o){case Z:l={x:r,y:e.y-t.height};break;case ie:l={x:r,y:e.y+e.height};break;case oe:l={x:e.x+e.width,y:s};break;case J:l={x:e.x-t.width,y:s};break;default:l={x:e.x,y:e.y}}var f=o?Ci(o):null;if(f!=null){var c=f==="y"?"height":"width";switch(a){case Be:l[f]=l[f]-(e[c]/2-t[c]/2);break;case Je:l[f]=l[f]+(e[c]/2-t[c]/2);break}}return l}function at(n,e){e===void 0&&(e={});var t=e,i=t.placement,o=i===void 0?n.placement:i,a=t.boundary,r=a===void 0?sa:a,s=t.rootBoundary,l=s===void 0?Ei:s,f=t.elementContext,c=f===void 0?Ke:f,h=t.altBoundary,d=h===void 0?!1:h,b=t.padding,p=b===void 0?0:b,u=wa(typeof p!="number"?p:xa(p,rt)),g=c===Ke?la:Ke,v=n.rects.popper,x=n.elements[d?g:c],C=Fn(et(x)?x:x.contextElement||Le(n.elements.popper),r,l),w=it(n.elements.reference),S=ka({reference:w,element:v,strategy:"absolute",placement:o}),E=ui(Object.assign({},v,S)),P=c===Ke?E:w,k={top:C.top-P.top+u.top,bottom:P.bottom-C.bottom+u.bottom,left:C.left-P.left+u.left,right:P.right-C.right+u.right},D=n.modifiersData.offset;if(c===Ke&&D){var N=D[o];Object.keys(k).forEach(function(y){var _=[oe,ie].indexOf(y)>=0?1:-1,A=[Z,ie].indexOf(y)>=0?"y":"x";k[y]+=N[A]*_})}return k}function Un(n,e){e===void 0&&(e={});var t=e,i=t.placement,o=t.boundary,a=t.rootBoundary,r=t.padding,s=t.flipVariations,l=t.allowedAutoPlacements,f=l===void 0?Ti:l,c=ot(i),h=c?s?bi:bi.filter(function(p){return ot(p)===c}):rt,d=h.filter(function(p){return f.indexOf(p)>=0});d.length===0&&(d=h);var b=d.reduce(function(p,u){return p[u]=at(n,{placement:u,boundary:o,rootBoundary:a,padding:r})[Ee(u)],p},{});return Object.keys(b).sort(function(p,u){return b[p]-b[u]})}function Vn(n){if(Ee(n)===Ft)return[];var e=Lt(n);return[Ji(n),e,Ji(e)]}function jn(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,r=t.altAxis,s=r===void 0?!0:r,l=t.fallbackPlacements,f=t.padding,c=t.boundary,h=t.rootBoundary,d=t.altBoundary,b=t.flipVariations,p=b===void 0?!0:b,u=t.allowedAutoPlacements,g=e.options.placement,v=Ee(g),x=v===g,C=l||(x||!p?[Lt(g)]:Vn(g)),w=[g].concat(C).reduce(function(B,W){return B.concat(Ee(W)===Ft?Un(e,{placement:W,boundary:c,rootBoundary:h,padding:f,flipVariations:p,allowedAutoPlacements:u}):W)},[]),S=e.rects.reference,E=e.rects.popper,P=new Map,k=!0,D=w[0],N=0;N<w.length;N++){var y=w[N],_=Ee(y),A=ot(y)===Be,T=[Z,ie].indexOf(_)>=0,I=T?"width":"height",O=at(e,{placement:y,boundary:c,rootBoundary:h,altBoundary:d,padding:f}),U=T?A?oe:J:A?ie:Z;S[I]>E[I]&&(U=Lt(U));var K=Lt(U),H=[];if(a&&H.push(O[_]<=0),s&&H.push(O[U]<=0,O[K]<=0),H.every(function(B){return B})){D=y,k=!1;break}P.set(y,H)}if(k)for(var ne=p?3:1,De=function(W){var G=w.find(function(j){var $=P.get(j);if($)return $.slice(0,W).every(function(q){return q})});if(G)return D=G,"break"},ue=ne;ue>0;ue--){var Q=De(ue);if(Q==="break")break}e.placement!==D&&(e.modifiersData[i]._skip=!0,e.placement=D,e.reset=!0)}}var Aa={name:"flip",enabled:!0,phase:"main",fn:jn,requiresIfExists:["offset"],data:{_skip:!1}};function to(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function io(n){return[Z,oe,ie,J].some(function(e){return n[e]>=0})}function Bn(n){var e=n.state,t=n.name,i=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,r=at(e,{elementContext:"reference"}),s=at(e,{altBoundary:!0}),l=to(r,i),f=to(s,o,a),c=io(l),h=io(f);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}var Sa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bn};function Wn(n,e,t){var i=Ee(n),o=[J,Z].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,r=a[0],s=a[1];return r=r||0,s=(s||0)*o,[J,oe].indexOf(i)>=0?{x:s,y:r}:{x:r,y:s}}function Hn(n){var e=n.state,t=n.options,i=n.name,o=t.offset,a=o===void 0?[0,0]:o,r=Ti.reduce(function(c,h){return c[h]=Wn(h,e.rects,a),c},{}),s=r[e.placement],l=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=r}var Ca={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hn};function qn(n){var e=n.state,t=n.name;e.modifiersData[t]=ka({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Di={name:"popperOffsets",enabled:!0,phase:"read",fn:qn,data:{}};function Yn(n){return n==="x"?"y":"x"}function Gn(n){var e=n.state,t=n.options,i=n.name,o=t.mainAxis,a=o===void 0?!0:o,r=t.altAxis,s=r===void 0?!1:r,l=t.boundary,f=t.rootBoundary,c=t.altBoundary,h=t.padding,d=t.tether,b=d===void 0?!0:d,p=t.tetherOffset,u=p===void 0?0:p,g=at(e,{boundary:l,rootBoundary:f,padding:h,altBoundary:c}),v=Ee(e.placement),x=ot(e.placement),C=!x,w=Ci(v),S=Yn(w),E=e.modifiersData.popperOffsets,P=e.rects.reference,k=e.rects.popper,D=typeof u=="function"?u(Object.assign({},e.rects,{placement:e.placement})):u,N=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(!!E){if(a){var A,T=w==="y"?Z:J,I=w==="y"?ie:oe,O=w==="y"?"height":"width",U=E[w],K=U+g[T],H=U-g[I],ne=b?-k[O]/2:0,De=x===Be?P[O]:k[O],ue=x===Be?-k[O]:-P[O],Q=e.elements.arrow,B=b&&Q?Si(Q):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:va(),G=W[T],j=W[I],$=gt(0,P[O],B[O]),q=C?P[O]/2-ne-$-G-N.mainAxis:De-$-G-N.mainAxis,ye=C?-P[O]/2+ne+$+j+N.mainAxis:ue+$+j+N.mainAxis,re=e.elements.arrow&&wt(e.elements.arrow),pe=re?w==="y"?re.clientTop||0:re.clientLeft||0:0,F=(A=y==null?void 0:y[w])!=null?A:0,z=U+q-F-pe,X=U+ye-F,me=gt(b?Nt(K,z):K,U,b?Ve(H,X):H);E[w]=me,_[w]=me-U}if(s){var ft,bn=w==="x"?Z:J,un=w==="x"?ie:oe,Ne=E[S],kt=S==="y"?"height":"width",Bi=Ne+g[bn],Wi=Ne-g[un],ei=[Z,J].indexOf(v)!==-1,Hi=(ft=y==null?void 0:y[S])!=null?ft:0,qi=ei?Bi:Ne-P[kt]-k[kt]-Hi+N.altAxis,Yi=ei?Ne+P[kt]+k[kt]-Hi-N.altAxis:Wi,Gi=b&&ei?kn(qi,Ne,Yi):gt(b?qi:Bi,Ne,b?Yi:Wi);E[S]=Gi,_[S]=Gi-Ne}e.modifiersData[i]=_}}var Oa={name:"preventOverflow",enabled:!0,phase:"main",fn:Gn,requiresIfExists:["offset"]};function Xn(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Kn(n){return n===ge(n)||!ce(n)?Ri(n):Xn(n)}function Qn(n){var e=n.getBoundingClientRect(),t=tt(e.width)/n.offsetWidth||1,i=tt(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Zn(n,e,t){t===void 0&&(t=!1);var i=ce(e),o=ce(e)&&Qn(e),a=Le(e),r=it(n,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((ke(e)!=="body"||Mi(a))&&(s=Kn(e)),ce(e)?(l=it(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Li(a))),{x:r.left+s.scrollLeft-l.x,y:r.top+s.scrollTop-l.y,width:r.width,height:r.height}}function Jn(n){var e=new Map,t=new Set,i=[];n.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var r=[].concat(a.requires||[],a.requiresIfExists||[]);r.forEach(function(s){if(!t.has(s)){var l=e.get(s);l&&o(l)}}),i.push(a)}return n.forEach(function(a){t.has(a.name)||o(a)}),i}function er(n){var e=Jn(n);return _a.reduce(function(t,i){return t.concat(e.filter(function(o){return o.phase===i}))},[])}function tr(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function ir(n){var e=n.reduce(function(t,i){var o=t[i.name];return t[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var oo={placement:"bottom",modifiers:[],strategy:"absolute"};function ao(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Vt(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?oo:o;return function(s,l,f){f===void 0&&(f=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},oo,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},h=[],d=!1,b={state:c,setOptions:function(v){var x=typeof v=="function"?v(c.options):v;u(),c.options=Object.assign({},a,c.options,x),c.scrollParents={reference:et(s)?_t(s):s.contextElement?_t(s.contextElement):[],popper:_t(l)};var C=er(ir([].concat(i,c.options.modifiers)));return c.orderedModifiers=C.filter(function(w){return w.enabled}),p(),b.update()},forceUpdate:function(){if(!d){var v=c.elements,x=v.reference,C=v.popper;if(!!ao(x,C)){c.rects={reference:Zn(x,wt(C),c.options.strategy==="fixed"),popper:Si(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var S=c.orderedModifiers[w],E=S.fn,P=S.options,k=P===void 0?{}:P,D=S.name;typeof E=="function"&&(c=E({state:c,options:k,name:D,instance:b})||c)}}}},update:tr(function(){return new Promise(function(g){b.forceUpdate(),g(c)})}),destroy:function(){u(),d=!0}};if(!ao(s,l))return b;b.setOptions(f).then(function(g){!d&&f.onFirstUpdate&&f.onFirstUpdate(g)});function p(){c.orderedModifiers.forEach(function(g){var v=g.name,x=g.options,C=x===void 0?{}:x,w=g.effect;if(typeof w=="function"){var S=w({state:c,name:v,instance:b,options:C}),E=function(){};h.push(S||E)}})}function u(){h.forEach(function(g){return g()}),h=[]}return b}}var or=Vt(),ar=[Pi,Di,Oi,Ai],nr=Vt({defaultModifiers:ar}),rr=[Pi,Di,Oi,Ai,Ca,Aa,Oa,Ea,Sa],Ni=Vt({defaultModifiers:rr}),Pa=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:Vt,detectOverflow:at,createPopperBase:or,createPopper:Ni,createPopperLite:nr,top:Z,bottom:ie,right:oe,left:J,auto:Ft,basePlacements:rt,start:Be,end:Je,clippingParents:sa,viewport:Ei,popper:Ke,reference:la,variationPlacements:bi,placements:Ti,beforeRead:fa,read:ca,afterRead:da,beforeMain:ha,main:ba,afterMain:ua,beforeWrite:pa,write:ma,afterWrite:ga,modifierPhases:_a,applyStyles:Ai,arrow:Ea,computeStyles:Oi,eventListeners:Pi,flip:Aa,hide:Sa,offset:Ca,popperOffsets:Di,preventOverflow:Oa},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const sr=1e6,lr=1e3,pi="transitionend",fr=n=>n==null?`${n}`:{}.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),cr=n=>{do n+=Math.floor(Math.random()*sr);while(document.getElementById(n));return n},Ra=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},Ii=n=>{const e=Ra(n);return e&&document.querySelector(e)?e:null},Pe=n=>{const e=Ra(n);return e?document.querySelector(e):null},dr=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),o=Number.parseFloat(t);return!i&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*lr)},La=n=>{n.dispatchEvent(new Event(pi))},We=n=>!n||typeof n!="object"?!1:(typeof n.jquery!="undefined"&&(n=n[0]),typeof n.nodeType!="undefined"),Re=n=>We(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(n):null,Ae=(n,e,t)=>{Object.keys(t).forEach(i=>{const o=t[i],a=e[i],r=a&&We(a)?"element":fr(a);if(!new RegExp(o).test(r))throw new TypeError(`${n.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${o}".`)})},xt=n=>!We(n)||n.getClientRects().length===0?!1:getComputedStyle(n).getPropertyValue("visibility")==="visible",je=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled!="undefined"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Ma=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?Ma(n.parentNode):null},It=()=>{},st=n=>{n.offsetHeight},Da=()=>{const{jQuery:n}=window;return n&&!document.body.hasAttribute("data-bs-no-jquery")?n:null},ti=[],hr=n=>{document.readyState==="loading"?(ti.length||document.addEventListener("DOMContentLoaded",()=>{ti.forEach(e=>e())}),ti.push(n)):n()},te=()=>document.documentElement.dir==="rtl",he=n=>{hr(()=>{const e=Da();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},Ue=n=>{typeof n=="function"&&n()},Na=(n,e,t=!0)=>{if(!t){Ue(n);return}const i=5,o=dr(e)+i;let a=!1;const r=({target:s})=>{s===e&&(a=!0,e.removeEventListener(pi,r),Ue(n))};e.addEventListener(pi,r),setTimeout(()=>{a||La(e)},o)},Ia=(n,e,t,i)=>{let o=n.indexOf(e);if(o===-1)return n[!t&&i?n.length-1:0];const a=n.length;return o+=t?1:-1,i&&(o=(o+a)%a),n[Math.max(0,Math.min(o,a-1))]},br=/[^.]*(?=\..*)\.|.*/,ur=/\..*/,pr=/::\d+$/,ii={};let no=1;const mr={mouseenter:"mouseover",mouseleave:"mouseout"},gr=/^(mouseenter|mouseleave)/i,za=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $a(n,e){return e&&`${e}::${no++}`||n.uidEvent||no++}function Fa(n){const e=$a(n);return n.uidEvent=e,ii[e]=ii[e]||{},ii[e]}function _r(n,e){return function t(i){return i.delegateTarget=n,t.oneOff&&m.off(n,i.type,e),e.apply(n,[i])}}function yr(n,e,t){return function i(o){const a=n.querySelectorAll(e);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(let s=a.length;s--;)if(a[s]===r)return o.delegateTarget=r,i.oneOff&&m.off(n,o.type,e,t),t.apply(r,[o]);return null}}function Ua(n,e,t=null){const i=Object.keys(n);for(let o=0,a=i.length;o<a;o++){const r=n[i[o]];if(r.originalHandler===e&&r.delegationSelector===t)return r}return null}function Va(n,e,t){const i=typeof e=="string",o=i?t:e;let a=ja(n);return za.has(a)||(a=n),[i,o,a]}function ro(n,e,t,i,o){if(typeof e!="string"||!n)return;if(t||(t=i,i=null),gr.test(e)){const b=p=>function(u){if(!u.relatedTarget||u.relatedTarget!==u.delegateTarget&&!u.delegateTarget.contains(u.relatedTarget))return p.call(this,u)};i?i=b(i):t=b(t)}const[a,r,s]=Va(e,t,i),l=Fa(n),f=l[s]||(l[s]={}),c=Ua(f,r,a?t:null);if(c){c.oneOff=c.oneOff&&o;return}const h=$a(r,e.replace(br,"")),d=a?yr(n,t,i):_r(n,t);d.delegationSelector=a?t:null,d.originalHandler=r,d.oneOff=o,d.uidEvent=h,f[h]=d,n.addEventListener(s,d,a)}function mi(n,e,t,i,o){const a=Ua(e[t],i,o);!a||(n.removeEventListener(t,a,Boolean(o)),delete e[t][a.uidEvent])}function vr(n,e,t,i){const o=e[t]||{};Object.keys(o).forEach(a=>{if(a.includes(i)){const r=o[a];mi(n,e,t,r.originalHandler,r.delegationSelector)}})}function ja(n){return n=n.replace(ur,""),mr[n]||n}const m={on(n,e,t,i){ro(n,e,t,i,!1)},one(n,e,t,i){ro(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;const[o,a,r]=Va(e,t,i),s=r!==e,l=Fa(n),f=e.startsWith(".");if(typeof a!="undefined"){if(!l||!l[r])return;mi(n,l,r,a,o?t:null);return}f&&Object.keys(l).forEach(h=>{vr(n,l,h,e.slice(1))});const c=l[r]||{};Object.keys(c).forEach(h=>{const d=h.replace(pr,"");if(!s||e.includes(d)){const b=c[h];mi(n,l,r,b.originalHandler,b.delegationSelector)}})},trigger(n,e,t){if(typeof e!="string"||!n)return null;const i=Da(),o=ja(e),a=e!==o,r=za.has(o);let s,l=!0,f=!0,c=!1,h=null;return a&&i&&(s=i.Event(e,t),i(n).trigger(s),l=!s.isPropagationStopped(),f=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented()),r?(h=document.createEvent("HTMLEvents"),h.initEvent(o,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof t!="undefined"&&Object.keys(t).forEach(d=>{Object.defineProperty(h,d,{get(){return t[d]}})}),c&&h.preventDefault(),f&&n.dispatchEvent(h),h.defaultPrevented&&typeof s!="undefined"&&s.preventDefault(),h}},Oe=new Map,yt={set(n,e,t){Oe.has(n)||Oe.set(n,new Map);const i=Oe.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return Oe.has(n)&&Oe.get(n).get(e)||null},remove(n,e){if(!Oe.has(n))return;const t=Oe.get(n);t.delete(e),t.size===0&&Oe.delete(n)}},wr="5.1.3";class _e{constructor(e){e=Re(e),e&&(this._element=e,yt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){yt.remove(this._element,this.constructor.DATA_KEY),m.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,t,i=!0){Na(e,t,i)}static getInstance(e){return yt.get(Re(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return wr}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const jt=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;m.on(document,t,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),je(this))return;const a=Pe(this)||this.closest(`.${i}`);n.getOrCreateInstance(a)[e]()})},xr="alert",Er="bs.alert",Ba=`.${Er}`,Tr=`close${Ba}`,kr=`closed${Ba}`,Ar="fade",Sr="show";class Bt extends _e{static get NAME(){return xr}close(){if(m.trigger(this._element,Tr).defaultPrevented)return;this._element.classList.remove(Sr);const t=this._element.classList.contains(Ar);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),m.trigger(this._element,kr),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Bt.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}jt(Bt,"close");he(Bt);const Cr="button",Or="bs.button",Pr=`.${Or}`,Rr=".data-api",Lr="active",so='[data-bs-toggle="button"]',Mr=`click${Pr}${Rr}`;class Wt extends _e{static get NAME(){return Cr}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Lr))}static jQueryInterface(e){return this.each(function(){const t=Wt.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}m.on(document,Mr,so,n=>{n.preventDefault();const e=n.target.closest(so);Wt.getOrCreateInstance(e).toggle()});he(Wt);function lo(n){return n==="true"?!0:n==="false"?!1:n===Number(n).toString()?Number(n):n===""||n==="null"?null:n}function oi(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Y={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${oi(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${oi(e)}`)},getDataAttributes(n){if(!n)return{};const e={};return Object.keys(n.dataset).filter(t=>t.startsWith("bs")).forEach(t=>{let i=t.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=lo(n.dataset[t])}),e},getDataAttribute(n,e){return lo(n.getAttribute(`data-bs-${oi(e)}`))},offset(n){const e=n.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(n){return{top:n.offsetTop,left:n.offsetLeft}}},Dr=3,L={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let i=n.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Dr;)i.matches(e)&&t.push(i),i=i.parentNode;return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(", ");return this.find(e,n).filter(t=>!je(t)&&xt(t))}},fo="carousel",Nr="bs.carousel",ae=`.${Nr}`,Wa=".data-api",Ir="ArrowLeft",zr="ArrowRight",$r=500,Fr=40,co={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Ur={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ie="next",ze="prev",Fe="left",pt="right",Vr={[Ir]:pt,[zr]:Fe},jr=`slide${ae}`,ho=`slid${ae}`,Br=`keydown${ae}`,Wr=`mouseenter${ae}`,Hr=`mouseleave${ae}`,qr=`touchstart${ae}`,Yr=`touchmove${ae}`,Gr=`touchend${ae}`,Xr=`pointerdown${ae}`,Kr=`pointerup${ae}`,Qr=`dragstart${ae}`,Zr=`load${ae}${Wa}`,Jr=`click${ae}${Wa}`,es="carousel",$e="active",ts="slide",is="carousel-item-end",os="carousel-item-start",as="carousel-item-next",ns="carousel-item-prev",rs="pointer-event",ss=".active",Ct=".active.carousel-item",ls=".carousel-item",fs=".carousel-item img",cs=".carousel-item-next, .carousel-item-prev",ds=".carousel-indicators",hs="[data-bs-target]",bs="[data-bs-slide], [data-bs-slide-to]",us='[data-bs-ride="carousel"]',ps="touch",ms="pen";class Se extends _e{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=L.findOne(ds,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return co}static get NAME(){return fo}next(){this._slide(Ie)}nextWhenVisible(){!document.hidden&&xt(this._element)&&this.next()}prev(){this._slide(ze)}pause(e){e||(this._isPaused=!0),L.findOne(cs,this._element)&&(La(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=L.findOne(Ct,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding){m.one(this._element,ho,()=>this.to(e));return}if(t===e){this.pause(),this.cycle();return}const i=e>t?Ie:ze;this._slide(i,this._items[e])}_getConfig(e){return e=M(M(M({},co),Y.getDataAttributes(this._element)),typeof e=="object"?e:{}),Ae(fo,e,Ur),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=Fr)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?pt:Fe)}_addEventListeners(){this._config.keyboard&&m.on(this._element,Br,e=>this._keydown(e)),this._config.pause==="hover"&&(m.on(this._element,Wr,e=>this.pause(e)),m.on(this._element,Hr,e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=a=>this._pointerEvent&&(a.pointerType===ms||a.pointerType===ps),t=a=>{e(a)?this.touchStartX=a.clientX:this._pointerEvent||(this.touchStartX=a.touches[0].clientX)},i=a=>{this.touchDeltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this.touchStartX},o=a=>{e(a)&&(this.touchDeltaX=a.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(r=>this.cycle(r),$r+this._config.interval))};L.find(fs,this._element).forEach(a=>{m.on(a,Qr,r=>r.preventDefault())}),this._pointerEvent?(m.on(this._element,Xr,a=>t(a)),m.on(this._element,Kr,a=>o(a)),this._element.classList.add(rs)):(m.on(this._element,qr,a=>t(a)),m.on(this._element,Yr,a=>i(a)),m.on(this._element,Gr,a=>o(a)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Vr[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?L.find(ls,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const i=e===Ie;return Ia(this._items,t,i,this._config.wrap)}_triggerSlideEvent(e,t){const i=this._getItemIndex(e),o=this._getItemIndex(L.findOne(Ct,this._element));return m.trigger(this._element,jr,{relatedTarget:e,direction:t,from:o,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=L.findOne(ss,this._indicatorsElement);t.classList.remove($e),t.removeAttribute("aria-current");const i=L.find(hs,this._indicatorsElement);for(let o=0;o<i.length;o++)if(Number.parseInt(i[o].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[o].classList.add($e),i[o].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||L.findOne(Ct,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const i=this._directionToOrder(e),o=L.findOne(Ct,this._element),a=this._getItemIndex(o),r=t||this._getItemByOrder(i,o),s=this._getItemIndex(r),l=Boolean(this._interval),f=i===Ie,c=f?os:is,h=f?as:ns,d=this._orderToDirection(i);if(r&&r.classList.contains($e)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(r,d).defaultPrevented||!o||!r)return;this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const p=()=>{m.trigger(this._element,ho,{relatedTarget:r,direction:d,from:a,to:s})};if(this._element.classList.contains(ts)){r.classList.add(h),st(r),o.classList.add(c),r.classList.add(c);const u=()=>{r.classList.remove(c,h),r.classList.add($e),o.classList.remove($e,h,c),this._isSliding=!1,setTimeout(p,0)};this._queueCallback(u,o,!0)}else o.classList.remove($e),r.classList.add($e),this._isSliding=!1,p();l&&this.cycle()}_directionToOrder(e){return[pt,Fe].includes(e)?te()?e===Fe?ze:Ie:e===Fe?Ie:ze:e}_orderToDirection(e){return[Ie,ze].includes(e)?te()?e===ze?Fe:pt:e===ze?pt:Fe:e}static carouselInterface(e,t){const i=Se.getOrCreateInstance(e,t);let{_config:o}=i;typeof t=="object"&&(o=M(M({},o),t));const a=typeof t=="string"?t:o.slide;if(typeof t=="number")i.to(t);else if(typeof a=="string"){if(typeof i[a]=="undefined")throw new TypeError(`No method named "${a}"`);i[a]()}else o.interval&&o.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each(function(){Se.carouselInterface(this,e)})}static dataApiClickHandler(e){const t=Pe(this);if(!t||!t.classList.contains(es))return;const i=M(M({},Y.getDataAttributes(t)),Y.getDataAttributes(this)),o=this.getAttribute("data-bs-slide-to");o&&(i.interval=!1),Se.carouselInterface(t,i),o&&Se.getInstance(t).to(o),e.preventDefault()}}m.on(document,Jr,bs,Se.dataApiClickHandler);m.on(window,Zr,()=>{const n=L.find(us);for(let e=0,t=n.length;e<t;e++)Se.carouselInterface(n[e],Se.getInstance(n[e]))});he(Se);const bo="collapse",Ha="bs.collapse",Et=`.${Ha}`,gs=".data-api",uo={toggle:!0,parent:null},_s={toggle:"boolean",parent:"(null|element)"},ys=`show${Et}`,vs=`shown${Et}`,ws=`hide${Et}`,xs=`hidden${Et}`,Es=`click${Et}${gs}`,ai="show",Qe="collapse",Ot="collapsing",po="collapsed",mo=`:scope .${Qe} .${Qe}`,Ts="collapse-horizontal",ks="width",As="height",Ss=".collapse.show, .collapse.collapsing",gi='[data-bs-toggle="collapse"]';class Ze extends _e{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const i=L.find(gi);for(let o=0,a=i.length;o<a;o++){const r=i[o],s=Ii(r),l=L.find(s).filter(f=>f===this._element);s!==null&&l.length&&(this._selector=s,this._triggerArray.push(r))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return uo}static get NAME(){return bo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],t;if(this._config.parent){const f=L.find(mo,this._config.parent);e=L.find(Ss,this._config.parent).filter(c=>!f.includes(c))}const i=L.findOne(this._selector);if(e.length){const f=e.find(c=>i!==c);if(t=f?Ze.getInstance(f):null,t&&t._isTransitioning)return}if(m.trigger(this._element,ys).defaultPrevented)return;e.forEach(f=>{i!==f&&Ze.getOrCreateInstance(f,{toggle:!1}).hide(),t||yt.set(f,Ha,null)});const a=this._getDimension();this._element.classList.remove(Qe),this._element.classList.add(Ot),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(Qe,ai),this._element.style[a]="",m.trigger(this._element,vs)},l=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[a]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||m.trigger(this._element,ws).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,st(this._element),this._element.classList.add(Ot),this._element.classList.remove(Qe,ai);const i=this._triggerArray.length;for(let a=0;a<i;a++){const r=this._triggerArray[a],s=Pe(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Ot),this._element.classList.add(Qe),m.trigger(this._element,xs)};this._element.style[t]="",this._queueCallback(o,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ai)}_getConfig(e){return e=M(M(M({},uo),Y.getDataAttributes(this._element)),e),e.toggle=Boolean(e.toggle),e.parent=Re(e.parent),Ae(bo,e,_s),e}_getDimension(){return this._element.classList.contains(Ts)?ks:As}_initializeChildren(){if(!this._config.parent)return;const e=L.find(mo,this._config.parent);L.find(gi,this._config.parent).filter(t=>!e.includes(t)).forEach(t=>{const i=Pe(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))})}_addAriaAndCollapsedClass(e,t){!e.length||e.forEach(i=>{t?i.classList.remove(po):i.classList.add(po),i.setAttribute("aria-expanded",t)})}static jQueryInterface(e){return this.each(function(){const t={};typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1);const i=Ze.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]=="undefined")throw new TypeError(`No method named "${e}"`);i[e]()}})}}m.on(document,Es,gi,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const e=Ii(this);L.find(e).forEach(i=>{Ze.getOrCreateInstance(i,{toggle:!1}).toggle()})});he(Ze);const ni="dropdown",Cs="bs.dropdown",qe=`.${Cs}`,zi=".data-api",Mt="Escape",go="Space",_o="Tab",_i="ArrowUp",Dt="ArrowDown",Os=2,Ps=new RegExp(`${_i}|${Dt}|${Mt}`),Rs=`hide${qe}`,Ls=`hidden${qe}`,Ms=`show${qe}`,Ds=`shown${qe}`,qa=`click${qe}${zi}`,Ya=`keydown${qe}${zi}`,Ns=`keyup${qe}${zi}`,Ge="show",Is="dropup",zs="dropend",$s="dropstart",Fs="navbar",vt='[data-bs-toggle="dropdown"]',yi=".dropdown-menu",Us=".navbar-nav",Vs=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",js=te()?"top-end":"top-start",Bs=te()?"top-start":"top-end",Ws=te()?"bottom-end":"bottom-start",Hs=te()?"bottom-start":"bottom-end",qs=te()?"left-start":"right-start",Ys=te()?"right-start":"left-start",Gs={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Xs={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class fe extends _e{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Gs}static get DefaultType(){return Xs}static get NAME(){return ni}toggle(){return this._isShown()?this.hide():this.show()}show(){if(je(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(m.trigger(this._element,Ms,e).defaultPrevented)return;const i=fe.getParentFromElement(this._element);this._inNavbar?Y.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(Us)&&[].concat(...document.body.children).forEach(o=>m.on(o,"mouseover",It)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ge),this._element.classList.add(Ge),m.trigger(this._element,Ds,e)}hide(){if(je(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){m.trigger(this._element,Rs,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>m.off(i,"mouseover",It)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Ge),this._element.classList.remove(Ge),this._element.setAttribute("aria-expanded","false"),Y.removeDataAttribute(this._menu,"popper"),m.trigger(this._element,Ls,e))}_getConfig(e){if(e=M(M(M({},this.constructor.Default),Y.getDataAttributes(this._element)),e),Ae(ni,e,this.constructor.DefaultType),typeof e.reference=="object"&&!We(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ni.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof Pa=="undefined")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=e:We(this._config.reference)?t=Re(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const i=this._getPopperConfig(),o=i.modifiers.find(a=>a.name==="applyStyles"&&a.enabled===!1);this._popper=Ni(t,this._menu,i),o&&Y.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(Ge)}_getMenuElement(){return L.next(this._element,yi)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains(zs))return qs;if(e.classList.contains($s))return Ys;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Is)?t?Bs:js:t?Hs:Ws}_detectNavbar(){return this._element.closest(`.${Fs}`)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),M(M({},e),typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig)}_selectMenuItem({key:e,target:t}){const i=L.find(Vs,this._menu).filter(xt);!i.length||Ia(i,t,e===Dt,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=fe.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e&&(e.button===Os||e.type==="keyup"&&e.key!==_o))return;const t=L.find(vt);for(let i=0,o=t.length;i<o;i++){const a=fe.getInstance(t[i]);if(!a||a._config.autoClose===!1||!a._isShown())continue;const r={relatedTarget:a._element};if(e){const s=e.composedPath(),l=s.includes(a._menu);if(s.includes(a._element)||a._config.autoClose==="inside"&&!l||a._config.autoClose==="outside"&&l||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===_o||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(r.clickEvent=e)}a._completeHide(r)}}static getParentFromElement(e){return Pe(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===go||e.key!==Mt&&(e.key!==Dt&&e.key!==_i||e.target.closest(yi)):!Ps.test(e.key))return;const t=this.classList.contains(Ge);if(!t&&e.key===Mt||(e.preventDefault(),e.stopPropagation(),je(this)))return;const i=this.matches(vt)?this:L.prev(this,vt)[0],o=fe.getOrCreateInstance(i);if(e.key===Mt){o.hide();return}if(e.key===_i||e.key===Dt){t||o.show(),o._selectMenuItem(e);return}(!t||e.key===go)&&fe.clearMenus()}}m.on(document,Ya,vt,fe.dataApiKeydownHandler);m.on(document,Ya,yi,fe.dataApiKeydownHandler);m.on(document,qa,fe.clearMenus);m.on(document,Ns,fe.clearMenus);m.on(document,qa,vt,function(n){n.preventDefault(),fe.getOrCreateInstance(this).toggle()});he(fe);const yo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vo=".sticky-top";class vi{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",t=>t+e),this._setElementAttributes(yo,"paddingRight",t=>t+e),this._setElementAttributes(vo,"marginRight",t=>t-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth(),a=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+o)return;this._saveInitialAttribute(r,t);const s=window.getComputedStyle(r)[t];r.style[t]=`${i(Number.parseFloat(s))}px`};this._applyManipulationCallback(e,a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(yo,"paddingRight"),this._resetElementAttributes(vo,"marginRight")}_saveInitialAttribute(e,t){const i=e.style[t];i&&Y.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=o=>{const a=Y.getDataAttribute(o,t);typeof a=="undefined"?o.style.removeProperty(t):(Y.removeDataAttribute(o,t),o.style[t]=a)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){We(e)?t(e):L.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const Ks={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Qs={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ga="backdrop",Zs="fade",wo="show",xo=`mousedown.bs.${Ga}`;class Xa{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){if(!this._config.isVisible){Ue(e);return}this._append(),this._config.isAnimated&&st(this._getElement()),this._getElement().classList.add(wo),this._emulateAnimation(()=>{Ue(e)})}hide(e){if(!this._config.isVisible){Ue(e);return}this._getElement().classList.remove(wo),this._emulateAnimation(()=>{this.dispose(),Ue(e)})}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Zs),this._element=e}return this._element}_getConfig(e){return e=M(M({},Ks),typeof e=="object"?e:{}),e.rootElement=Re(e.rootElement),Ae(Ga,e,Qs),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),m.on(this._getElement(),xo,()=>{Ue(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(m.off(this._element,xo),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){Na(e,this._getElement(),this._config.isAnimated)}}const Js={trapElement:null,autofocus:!0},el={trapElement:"element",autofocus:"boolean"},tl="focustrap",il="bs.focustrap",zt=`.${il}`,ol=`focusin${zt}`,al=`keydown.tab${zt}`,nl="Tab",rl="forward",Eo="backward";class Ka{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),m.off(document,zt),m.on(document,ol,i=>this._handleFocusin(i)),m.on(document,al,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,m.off(document,zt))}_handleFocusin(e){const{target:t}=e,{trapElement:i}=this._config;if(t===document||t===i||i.contains(t))return;const o=L.focusableChildren(i);o.length===0?i.focus():this._lastTabNavDirection===Eo?o[o.length-1].focus():o[0].focus()}_handleKeydown(e){e.key===nl&&(this._lastTabNavDirection=e.shiftKey?Eo:rl)}_getConfig(e){return e=M(M({},Js),typeof e=="object"?e:{}),Ae(tl,e,el),e}}const To="modal",sl="bs.modal",be=`.${sl}`,ll=".data-api",ko="Escape",Ao={backdrop:!0,keyboard:!0,focus:!0},fl={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},cl=`hide${be}`,dl=`hidePrevented${be}`,Qa=`hidden${be}`,Za=`show${be}`,hl=`shown${be}`,So=`resize${be}`,Co=`click.dismiss${be}`,Oo=`keydown.dismiss${be}`,bl=`mouseup.dismiss${be}`,Po=`mousedown.dismiss${be}`,ul=`click${be}${ll}`,Ro="modal-open",pl="fade",Lo="show",ri="modal-static",ml=".modal.show",gl=".modal-dialog",_l=".modal-body",yl='[data-bs-toggle="modal"]';class nt extends _e{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=L.findOne(gl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new vi}static get Default(){return Ao}static get NAME(){return To}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||m.trigger(this._element,Za,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Ro),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),m.on(this._dialog,Po,()=>{m.one(this._element,bl,i=>{i.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning||m.trigger(this._element,cl).defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Lo),m.off(this._element,Co),m.off(this._dialog,Po),this._queueCallback(()=>this._hideModal(),this._element,t)}dispose(){[window,this._dialog].forEach(e=>m.off(e,be)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xa({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ka({trapElement:this._element})}_getConfig(e){return e=M(M(M({},Ao),Y.getDataAttributes(this._element)),typeof e=="object"?e:{}),Ae(To,e,fl),e}_showElement(e){const t=this._isAnimated(),i=L.findOne(_l,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),t&&st(this._element),this._element.classList.add(Lo);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,m.trigger(this._element,hl,{relatedTarget:e})};this._queueCallback(o,this._dialog,t)}_setEscapeEvent(){this._isShown?m.on(this._element,Oo,e=>{this._config.keyboard&&e.key===ko?(e.preventDefault(),this.hide()):!this._config.keyboard&&e.key===ko&&this._triggerBackdropTransition()}):m.off(this._element,Oo)}_setResizeEvent(){this._isShown?m.on(window,So,()=>this._adjustDialog()):m.off(window,So)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ro),this._resetAdjustments(),this._scrollBar.reset(),m.trigger(this._element,Qa)})}_showBackdrop(e){m.on(this._element,Co,t=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}t.target===t.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains(pl)}_triggerBackdropTransition(){if(m.trigger(this._element,dl).defaultPrevented)return;const{classList:t,scrollHeight:i,style:o}=this._element,a=i>document.documentElement.clientHeight;!a&&o.overflowY==="hidden"||t.contains(ri)||(a||(o.overflowY="hidden"),t.add(ri),this._queueCallback(()=>{t.remove(ri),a||this._queueCallback(()=>{o.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;(!i&&e&&!te()||i&&!e&&te())&&(this._element.style.paddingLeft=`${t}px`),(i&&!e&&!te()||!i&&e&&te())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=nt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]=="undefined")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}m.on(document,ul,yl,function(n){const e=Pe(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),m.one(e,Za,o=>{o.defaultPrevented||m.one(e,Qa,()=>{xt(this)&&this.focus()})});const t=L.findOne(ml);t&&nt.getInstance(t).hide(),nt.getOrCreateInstance(e).toggle(this)});jt(nt);he(nt);const Mo="offcanvas",vl="bs.offcanvas",Ye=`.${vl}`,Ja=".data-api",wl=`load${Ye}${Ja}`,xl="Escape",Do={backdrop:!0,keyboard:!0,scroll:!1},El={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},No="show",Tl="offcanvas-backdrop",en=".offcanvas.show",kl=`show${Ye}`,Al=`shown${Ye}`,Sl=`hide${Ye}`,tn=`hidden${Ye}`,Cl=`click${Ye}${Ja}`,Ol=`keydown.dismiss${Ye}`,Pl='[data-bs-toggle="offcanvas"]';class He extends _e{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Mo}static get Default(){return Do}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||m.trigger(this._element,kl,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new vi().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(No);const i=()=>{this._config.scroll||this._focustrap.activate(),m.trigger(this._element,Al,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||m.trigger(this._element,Sl).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(No),this._backdrop.hide();const t=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new vi().reset(),m.trigger(this._element,tn)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e=M(M(M({},Do),Y.getDataAttributes(this._element)),typeof e=="object"?e:{}),Ae(Mo,e,El),e}_initializeBackDrop(){return new Xa({className:Tl,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Ka({trapElement:this._element})}_addEventListeners(){m.on(this._element,Ol,e=>{this._config.keyboard&&e.key===xl&&this.hide()})}static jQueryInterface(e){return this.each(function(){const t=He.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}m.on(document,Cl,Pl,function(n){const e=Pe(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),je(this))return;m.one(e,tn,()=>{xt(this)&&this.focus()});const t=L.findOne(en);t&&t!==e&&He.getInstance(t).hide(),He.getOrCreateInstance(e).toggle(this)});m.on(window,wl,()=>L.find(en).forEach(n=>He.getOrCreateInstance(n).show()));jt(He);he(He);const Rl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ll=/^aria-[\w-]*$/i,Ml=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Nl=(n,e)=>{const t=n.nodeName.toLowerCase();if(e.includes(t))return Rl.has(t)?Boolean(Ml.test(n.nodeValue)||Dl.test(n.nodeValue)):!0;const i=e.filter(o=>o instanceof RegExp);for(let o=0,a=i.length;o<a;o++)if(i[o].test(t))return!0;return!1},Il={"*":["class","dir","id","lang","role",Ll],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Io(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const o=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...o.body.querySelectorAll("*"));for(let r=0,s=a.length;r<s;r++){const l=a[r],f=l.nodeName.toLowerCase();if(!Object.keys(e).includes(f)){l.remove();continue}const c=[].concat(...l.attributes),h=[].concat(e["*"]||[],e[f]||[]);c.forEach(d=>{Nl(d,h)||l.removeAttribute(d.nodeName)})}return o.body.innerHTML}const zo="tooltip",zl="bs.tooltip",ve=`.${zl}`,$l="bs-tooltip",Fl=new Set(["sanitize","allowList","sanitizeFn"]),Ul={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Vl={AUTO:"auto",TOP:"top",RIGHT:te()?"left":"right",BOTTOM:"bottom",LEFT:te()?"right":"left"},jl={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Il,popperConfig:null},Bl={HIDE:`hide${ve}`,HIDDEN:`hidden${ve}`,SHOW:`show${ve}`,SHOWN:`shown${ve}`,INSERTED:`inserted${ve}`,CLICK:`click${ve}`,FOCUSIN:`focusin${ve}`,FOCUSOUT:`focusout${ve}`,MOUSEENTER:`mouseenter${ve}`,MOUSELEAVE:`mouseleave${ve}`},Pt="fade",Wl="modal",ct="show",dt="show",si="out",$o=".tooltip-inner",Fo=`.${Wl}`,Uo="hide.bs.modal",ht="hover",li="focus",Hl="click",ql="manual";class lt extends _e{constructor(e,t){if(typeof Pa=="undefined")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return jl}static get NAME(){return zo}static get Event(){return Bl}static get DefaultType(){return Ul}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(ct)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),m.off(this._element.closest(Fo),Uo,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;const e=m.trigger(this._element,this.constructor.Event.SHOW),t=Ma(this._element),i=t===null?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!i)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector($o).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const o=this.getTipElement(),a=cr(this.constructor.NAME);o.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&o.classList.add(Pt);const r=typeof this._config.placement=="function"?this._config.placement.call(this,o,this._element):this._config.placement,s=this._getAttachment(r);this._addAttachmentClass(s);const{container:l}=this._config;yt.set(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(o),m.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Ni(this._element,o,this._getPopperConfig(s)),o.classList.add(ct);const f=this._resolvePossibleFunction(this._config.customClass);f&&o.classList.add(...f.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(d=>{m.on(d,"mouseover",It)});const c=()=>{const d=this._hoverState;this._hoverState=null,m.trigger(this._element,this.constructor.Event.SHOWN),d===si&&this._leave(null,this)},h=this.tip.classList.contains(Pt);this._queueCallback(c,this.tip,h)}hide(){if(!this._popper)return;const e=this.getTipElement(),t=()=>{this._isWithActiveTrigger()||(this._hoverState!==dt&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),m.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(m.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(ct),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(a=>m.off(a,"mouseover",It)),this._activeTrigger[Hl]=!1,this._activeTrigger[li]=!1,this._activeTrigger[ht]=!1;const o=this.tip.classList.contains(Pt);this._queueCallback(t,this.tip,o),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(Pt,ct),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),$o)}_sanitizeAndSetContent(e,t,i){const o=L.findOne(i,e);if(!t&&o){o.remove();return}this.setElementContent(o,t)}setElementContent(e,t){if(e!==null){if(We(t)){t=Re(t),this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent;return}this._config.html?(this._config.sanitize&&(t=Io(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t}}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:i=>this._handlePopperPlacementChange(i)}],onFirstUpdate:i=>{i.options.placement!==i.placement&&this._handlePopperPlacementChange(i)}};return M(M({},t),typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig)}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return Vl[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(t=>{if(t==="click")m.on(this._element,this.constructor.Event.CLICK,this._config.selector,i=>this.toggle(i));else if(t!==ql){const i=t===ht?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,o=t===ht?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;m.on(this._element,i,this._config.selector,a=>this._enter(a)),m.on(this._element,o,this._config.selector,a=>this._leave(a))}}),this._hideModalHandler=()=>{this._element&&this.hide()},m.on(this._element.closest(Fo),Uo,this._hideModalHandler),this._config.selector?this._config=At(M({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||t!=="string")&&(this._element.setAttribute("data-bs-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusin"?li:ht]=!0),t.getTipElement().classList.contains(ct)||t._hoverState===dt){t._hoverState=dt;return}if(clearTimeout(t._timeout),t._hoverState=dt,!t._config.delay||!t._config.delay.show){t.show();return}t._timeout=setTimeout(()=>{t._hoverState===dt&&t.show()},t._config.delay.show)}_leave(e,t){if(t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger[e.type==="focusout"?li:ht]=t._element.contains(e.relatedTarget)),!t._isWithActiveTrigger()){if(clearTimeout(t._timeout),t._hoverState=si,!t._config.delay||!t._config.delay.hide){t.hide();return}t._timeout=setTimeout(()=>{t._hoverState===si&&t.hide()},t._config.delay.hide)}}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=Y.getDataAttributes(this._element);return Object.keys(t).forEach(i=>{Fl.has(i)&&delete t[i]}),e=M(M(M({},this.constructor.Default),t),typeof e=="object"&&e?e:{}),e.container=e.container===!1?document.body:Re(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),Ae(zo,e,this.constructor.DefaultType),e.sanitize&&(e.template=Io(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=e.getAttribute("class").match(t);i!==null&&i.length>0&&i.map(o=>o.trim()).forEach(o=>e.classList.remove(o))}_getBasicClassPrefix(){return $l}_handlePopperPlacementChange(e){const{state:t}=e;!t||(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const t=lt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}}he(lt);const Yl="popover",Gl="bs.popover",we=`.${Gl}`,Xl="bs-popover",Kl=At(M({},lt.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ql=At(M({},lt.DefaultType),{content:"(string|element|function)"}),Zl={HIDE:`hide${we}`,HIDDEN:`hidden${we}`,SHOW:`show${we}`,SHOWN:`shown${we}`,INSERTED:`inserted${we}`,CLICK:`click${we}`,FOCUSIN:`focusin${we}`,FOCUSOUT:`focusout${we}`,MOUSEENTER:`mouseenter${we}`,MOUSELEAVE:`mouseleave${we}`},Jl=".popover-header",ef=".popover-body";class $i extends lt{static get Default(){return Kl}static get NAME(){return Yl}static get Event(){return Zl}static get DefaultType(){return Ql}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Jl),this._sanitizeAndSetContent(e,this._getContent(),ef)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return Xl}static jQueryInterface(e){return this.each(function(){const t=$i.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}}he($i);const Vo="scrollspy",tf="bs.scrollspy",Ht=`.${tf}`,of=".data-api",jo={offset:10,method:"auto",target:""},af={offset:"number",method:"string",target:"(string|element)"},nf=`activate${Ht}`,rf=`scroll${Ht}`,sf=`load${Ht}${of}`,on="dropdown-item",Xe="active",lf='[data-bs-spy="scroll"]',ff=".nav, .list-group",wi=".nav-link",cf=".nav-item",an=".list-group-item",fi=`${wi}, ${an}, .${on}`,df=".dropdown",hf=".dropdown-toggle",bf="offset",Bo="position";class qt extends _e{constructor(e,t){super(e),this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,m.on(this._scrollElement,rf,()=>this._process()),this.refresh(),this._process()}static get Default(){return jo}static get NAME(){return Vo}refresh(){const e=this._scrollElement===this._scrollElement.window?bf:Bo,t=this._config.method==="auto"?e:this._config.method,i=t===Bo?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),L.find(fi,this._config.target).map(a=>{const r=Ii(a),s=r?L.findOne(r):null;if(s){const l=s.getBoundingClientRect();if(l.width||l.height)return[Y[t](s).top+i,r]}return null}).filter(a=>a).sort((a,r)=>a[0]-r[0]).forEach(a=>{this._offsets.push(a[0]),this._targets.push(a[1])})}dispose(){m.off(this._scrollElement,Ht),super.dispose()}_getConfig(e){return e=M(M(M({},jo),Y.getDataAttributes(this._element)),typeof e=="object"&&e?e:{}),e.target=Re(e.target)||document.documentElement,Ae(Vo,e,af),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=i){const o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o);return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(typeof this._offsets[o+1]=="undefined"||e<this._offsets[o+1])&&this._activate(this._targets[o])}_activate(e){this._activeTarget=e,this._clear();const t=fi.split(",").map(o=>`${o}[data-bs-target="${e}"],${o}[href="${e}"]`),i=L.findOne(t.join(","),this._config.target);i.classList.add(Xe),i.classList.contains(on)?L.findOne(hf,i.closest(df)).classList.add(Xe):L.parents(i,ff).forEach(o=>{L.prev(o,`${wi}, ${an}`).forEach(a=>a.classList.add(Xe)),L.prev(o,cf).forEach(a=>{L.children(a,wi).forEach(r=>r.classList.add(Xe))})}),m.trigger(this._scrollElement,nf,{relatedTarget:e})}_clear(){L.find(fi,this._config.target).filter(e=>e.classList.contains(Xe)).forEach(e=>e.classList.remove(Xe))}static jQueryInterface(e){return this.each(function(){const t=qt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}}m.on(window,sf,()=>{L.find(lf).forEach(n=>new qt(n))});he(qt);const uf="tab",pf="bs.tab",Tt=`.${pf}`,mf=".data-api",gf=`hide${Tt}`,_f=`hidden${Tt}`,yf=`show${Tt}`,vf=`shown${Tt}`,wf=`click${Tt}${mf}`,xf="dropdown-menu",bt="active",Wo="fade",Ho="show",Ef=".dropdown",Tf=".nav, .list-group",qo=".active",Yo=":scope > li > .active",kf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Af=".dropdown-toggle",Sf=":scope > .dropdown-menu .active";class Yt extends _e{static get NAME(){return uf}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(bt))return;let e;const t=Pe(this._element),i=this._element.closest(Tf);if(i){const s=i.nodeName==="UL"||i.nodeName==="OL"?Yo:qo;e=L.find(s,i),e=e[e.length-1]}const o=e?m.trigger(e,gf,{relatedTarget:this._element}):null;if(m.trigger(this._element,yf,{relatedTarget:e}).defaultPrevented||o!==null&&o.defaultPrevented)return;this._activate(this._element,i);const r=()=>{m.trigger(e,_f,{relatedTarget:this._element}),m.trigger(this._element,vf,{relatedTarget:e})};t?this._activate(t,t.parentNode,r):r()}_activate(e,t,i){const a=(t&&(t.nodeName==="UL"||t.nodeName==="OL")?L.find(Yo,t):L.children(t,qo))[0],r=i&&a&&a.classList.contains(Wo),s=()=>this._transitionComplete(e,a,i);a&&r?(a.classList.remove(Ho),this._queueCallback(s,e,!0)):s()}_transitionComplete(e,t,i){if(t){t.classList.remove(bt);const a=L.findOne(Sf,t.parentNode);a&&a.classList.remove(bt),t.getAttribute("role")==="tab"&&t.setAttribute("aria-selected",!1)}e.classList.add(bt),e.getAttribute("role")==="tab"&&e.setAttribute("aria-selected",!0),st(e),e.classList.contains(Wo)&&e.classList.add(Ho);let o=e.parentNode;if(o&&o.nodeName==="LI"&&(o=o.parentNode),o&&o.classList.contains(xf)){const a=e.closest(Ef);a&&L.find(Af,a).forEach(r=>r.classList.add(bt)),e.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(e){return this.each(function(){const t=Yt.getOrCreateInstance(this);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e]()}})}}m.on(document,wf,kf,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),je(this))return;Yt.getOrCreateInstance(this).show()});he(Yt);const Go="toast",Cf="bs.toast",Me=`.${Cf}`,Of=`mouseover${Me}`,Pf=`mouseout${Me}`,Rf=`focusin${Me}`,Lf=`focusout${Me}`,Mf=`hide${Me}`,Df=`hidden${Me}`,Nf=`show${Me}`,If=`shown${Me}`,zf="fade",Xo="hide",ut="show",Rt="showing",$f={animation:"boolean",autohide:"boolean",delay:"number"},Ko={animation:!0,autohide:!0,delay:5e3};class Gt extends _e{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return $f}static get Default(){return Ko}static get NAME(){return Go}show(){if(m.trigger(this._element,Nf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(zf);const t=()=>{this._element.classList.remove(Rt),m.trigger(this._element,If),this._maybeScheduleHide()};this._element.classList.remove(Xo),st(this._element),this._element.classList.add(ut),this._element.classList.add(Rt),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(ut)||m.trigger(this._element,Mf).defaultPrevented)return;const t=()=>{this._element.classList.add(Xo),this._element.classList.remove(Rt),this._element.classList.remove(ut),m.trigger(this._element,Df)};this._element.classList.add(Rt),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(ut)&&this._element.classList.remove(ut),super.dispose()}_getConfig(e){return e=M(M(M({},Ko),Y.getDataAttributes(this._element)),typeof e=="object"&&e?e:{}),Ae(Go,e,this.constructor.DefaultType),e}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t){this._clearTimeout();return}const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){m.on(this._element,Of,e=>this._onInteraction(e,!0)),m.on(this._element,Pf,e=>this._onInteraction(e,!1)),m.on(this._element,Rf,e=>this._onInteraction(e,!0)),m.on(this._element,Lf,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Gt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]=="undefined")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}jt(Gt);he(Gt);const Ff=document.querySelector("#theme"),Qo=document.querySelector(".bi-moon-fill"),Zo=document.querySelector(".bi-brightness-high-fill"),Jo={light:{primary:"#ffffff",secondary:"#444f5a",accent:"#0564bd",primaryRGB:"255, 255, 255",secondaryRGB:"68, 79, 90"},dark:{primary:"#22222b",secondary:"#a2a1a6",accent:"#0564bd",primaryRGB:"34, 34, 43",secondaryRGB:"162,161,166"}};let ci=!0;Ff.addEventListener("click",Uf);function ea(n){document.documentElement.style.setProperty("--bs-primary",n.primary),document.documentElement.style.setProperty("--bs-secondary",n.secondary),document.documentElement.style.setProperty("--bs-accent",n.accent),document.documentElement.style.setProperty("--bs-primary-rgb",n.primaryRGB),document.documentElement.style.setProperty("--bs-secondary-rgb",n.secondaryRGB)}function Uf(){ci?(ea(Jo.dark),Qo.style.display="none",Zo.style.display="block",ci=!1):(ea(Jo.light),Qo.style.display="block",Zo.style.display="none",ci=!0)}var nn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sn={exports:{}};/*!
 * 
 *   typed.js - A JavaScript Typing Animation Library
 *   Author: Matt Boldt <me@mattboldt.com>
 *   Version: v2.0.12
 *   Url: https://github.com/mattboldt/typed.js
 *   License(s): MIT
 * 
 */(function(n,e){(function(i,o){n.exports=o()})(nn,function(){return function(t){var i={};function o(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}return o.m=t,o.c=i,o.p="",o(0)}([function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function c(h,d){for(var b=0;b<d.length;b++){var p=d[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,b){return d&&c(h.prototype,d),b&&c(h,b),h}}();function r(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var s=o(1),l=o(3),f=function(){function c(h,d){r(this,c),s.initializer.load(this,d,h),this.begin()}return a(c,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var d=arguments.length<=0||arguments[0]===void 0?!0:arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,d&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var d=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){!d.currentElContent||d.currentElContent.length===0?d.typewrite(d.strings[d.sequence[d.arrayPos]],d.strPos):d.backspace(d.currentElContent,d.currentElContent.length)},this.startDelay)}},{key:"typewrite",value:function(d,b){var p=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var u=this.humanizer(this.typeSpeed),g=1;if(this.pause.status===!0){this.setPauseStatus(d,b,!0);return}this.timeout=setTimeout(function(){b=l.htmlParser.typeHtmlChars(d,b,p);var v=0,x=d.substr(b);if(x.charAt(0)==="^"&&/^\^\d+/.test(x)){var C=1;x=/\d+/.exec(x)[0],C+=x.length,v=parseInt(x),p.temporaryPause=!0,p.options.onTypingPaused(p.arrayPos,p),d=d.substring(0,b)+d.substring(b+C),p.toggleBlinking(!0)}if(x.charAt(0)==="`"){for(;d.substr(b+g).charAt(0)!=="`"&&(g++,!(b+g>d.length)););var w=d.substring(0,b),S=d.substring(w.length+1,b+g),E=d.substring(b+g+1);d=w+S+E,g--}p.timeout=setTimeout(function(){p.toggleBlinking(!1),b>=d.length?p.doneTyping(d,b):p.keepTyping(d,b,g),p.temporaryPause&&(p.temporaryPause=!1,p.options.onTypingResumed(p.arrayPos,p))},v)},u)}},{key:"keepTyping",value:function(d,b,p){b===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),b+=p;var u=d.substr(0,b);this.replaceText(u),this.typewrite(d,b)}},{key:"doneTyping",value:function(d,b){var p=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),!(this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount))&&(this.timeout=setTimeout(function(){p.backspace(d,b)},this.backDelay))}},{key:"backspace",value:function(d,b){var p=this;if(this.pause.status===!0){this.setPauseStatus(d,b,!1);return}if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var u=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){b=l.htmlParser.backSpaceHtmlChars(d,b,p);var g=d.substr(0,b);if(p.replaceText(g),p.smartBackspace){var v=p.strings[p.arrayPos+1];v&&g===v.substr(0,b)?p.stopNum=b:p.stopNum=0}b>p.stopNum?(b--,p.backspace(d,b)):b<=p.stopNum&&(p.arrayPos++,p.arrayPos===p.strings.length?(p.arrayPos=0,p.options.onLastStringBackspaced(),p.shuffleStringsIfNeeded(),p.begin()):p.typewrite(p.strings[p.sequence[p.arrayPos]],b))},u)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(d,b,p){this.pause.typewrite=p,this.pause.curString=d,this.pause.curStrPos=b}},{key:"toggleBlinking",value:function(d){!this.cursor||this.pause.status||this.cursorBlinking!==d&&(this.cursorBlinking=d,d?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(d){return Math.round(Math.random()*d/2)+d}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var d=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){d.arrayPos++,d.replaceText(""),d.strings.length>d.arrayPos?d.typewrite(d.strings[d.sequence[d.arrayPos]],0):(d.typewrite(d.strings[0],0),d.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(d){this.attr?this.el.setAttribute(this.attr,d):this.isInput?this.el.value=d:this.contentType==="html"?this.el.innerHTML=d:this.el.textContent=d}},{key:"bindFocusEvents",value:function(){var d=this;!this.isInput||(this.el.addEventListener("focus",function(b){d.stop()}),this.el.addEventListener("blur",function(b){d.el.value&&d.el.value.length!==0||d.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),c}();i.default=f,t.exports=i.default},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=Object.assign||function(b){for(var p=1;p<arguments.length;p++){var u=arguments[p];for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(b[g]=u[g])}return b},r=function(){function b(p,u){for(var g=0;g<u.length;g++){var v=u[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,u,g){return u&&b(p.prototype,u),g&&b(p,g),p}}();function s(b){return b&&b.__esModule?b:{default:b}}function l(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}var f=o(2),c=s(f),h=function(){function b(){l(this,b)}return r(b,[{key:"load",value:function(u,g,v){if(typeof v=="string"?u.el=document.querySelector(v):u.el=v,u.options=a({},c.default,g),u.isInput=u.el.tagName.toLowerCase()==="input",u.attr=u.options.attr,u.bindInputFocusEvents=u.options.bindInputFocusEvents,u.showCursor=u.isInput?!1:u.options.showCursor,u.cursorChar=u.options.cursorChar,u.cursorBlinking=!0,u.elContent=u.attr?u.el.getAttribute(u.attr):u.el.textContent,u.contentType=u.options.contentType,u.typeSpeed=u.options.typeSpeed,u.startDelay=u.options.startDelay,u.backSpeed=u.options.backSpeed,u.smartBackspace=u.options.smartBackspace,u.backDelay=u.options.backDelay,u.fadeOut=u.options.fadeOut,u.fadeOutClass=u.options.fadeOutClass,u.fadeOutDelay=u.options.fadeOutDelay,u.isPaused=!1,u.strings=u.options.strings.map(function(E){return E.trim()}),typeof u.options.stringsElement=="string"?u.stringsElement=document.querySelector(u.options.stringsElement):u.stringsElement=u.options.stringsElement,u.stringsElement){u.strings=[],u.stringsElement.style.display="none";var x=Array.prototype.slice.apply(u.stringsElement.children),C=x.length;if(C)for(var w=0;w<C;w+=1){var S=x[w];u.strings.push(S.innerHTML.trim())}}u.strPos=0,u.arrayPos=0,u.stopNum=0,u.loop=u.options.loop,u.loopCount=u.options.loopCount,u.curLoop=0,u.shuffle=u.options.shuffle,u.sequence=[],u.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},u.typingComplete=!1;for(var w in u.strings)u.sequence[w]=w;u.currentElContent=this.getCurrentElContent(u),u.autoInsertCss=u.options.autoInsertCss,this.appendAnimationCss(u)}},{key:"getCurrentElContent",value:function(u){var g="";return u.attr?g=u.el.getAttribute(u.attr):u.isInput?g=u.el.value:u.contentType==="html"?g=u.el.innerHTML:g=u.el.textContent,g}},{key:"appendAnimationCss",value:function(u){var g="data-typed-js-css";if(!!u.autoInsertCss&&!(!u.showCursor&&!u.fadeOut)&&!document.querySelector("["+g+"]")){var v=document.createElement("style");v.type="text/css",v.setAttribute(g,!0);var x="";u.showCursor&&(x+=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `),u.fadeOut&&(x+=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `),v.length!==0&&(v.innerHTML=x,document.body.appendChild(v))}}}]),b}();i.default=h;var d=new h;i.initializer=d},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var o={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(r){},onComplete:function(r){},preStringTyped:function(r,s){},onStringTyped:function(r,s){},onLastStringBackspaced:function(r){},onTypingPaused:function(r,s){},onTypingResumed:function(r,s){},onReset:function(r){},onStop:function(r,s){},onStart:function(r,s){},onDestroy:function(r){}};i.default=o,t.exports=i.default},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function l(f,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,c,h){return c&&l(f.prototype,c),h&&l(f,h),f}}();function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var r=function(){function l(){a(this,l)}return o(l,[{key:"typeHtmlChars",value:function(c,h,d){if(d.contentType!=="html")return h;var b=c.substr(h).charAt(0);if(b==="<"||b==="&"){var p="";for(b==="<"?p=">":p=";";c.substr(h+1).charAt(0)!==p&&(h++,!(h+1>c.length)););h++}return h}},{key:"backSpaceHtmlChars",value:function(c,h,d){if(d.contentType!=="html")return h;var b=c.substr(h).charAt(0);if(b===">"||b===";"){var p="";for(b===">"?p="<":p="&";c.substr(h-1).charAt(0)!==p&&(h--,!(h<0)););h--}return h}}]),l}();i.default=r;var s=new r;i.htmlParser=s}])})})(sn);var Vf=rn(sn.exports),jf={strings:["I'm a Front-end Developer","I Build  Websites"],typeSpeed:120,backSpeed:50,backDelay:1500};new Vf("#headline",jf);let di=0;function R(){if(!(di>100)){if(di===100)console.warn("Curtains: too many warnings thrown, stop logging.");else{const n=Array.prototype.slice.call(arguments);console.warn.apply(console,n)}di++}}function ee(){const n=Array.prototype.slice.call(arguments);console.error.apply(console,n)}function ln(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16).toUpperCase()})}function xe(n){return(n&n-1)===0}function Bf(n,e,t){return(1-t)*n+t*e}class Wf{constructor(e){if(this.type="Scene",!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){ee(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=e.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let e=0;e<this.renderer.planes.length;e++)this.addPlane(this.renderer.planes[e])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let e=0;e<this.renderer.shaderPasses.length;e++)this.renderer.shaderPasses[e].index=e,this.renderer.shaderPasses[e]._isScenePass?this.stacks.scenePasses.push(this.renderer.shaderPasses[e]):this.stacks.renderPasses.push(this.renderer.shaderPasses[e]);this.stacks.scenePasses.length===0&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(e){const t=this.renderer.planes.filter(o=>o.type!=="PingPongPlane"&&o.target&&o.uuid!==e.uuid);let i=-1;if(e.target._depth){for(let o=t.length-1;o>=0;o--)if(t[o].target.uuid===e.target.uuid){i=o+1;break}}else i=t.findIndex(o=>o.target.uuid===e.target.uuid);i=Math.max(0,i),t.splice(i,0,e),e.target._depth?(t.sort((o,a)=>o.index-a.index),t.sort((o,a)=>a.renderOrder-o.renderOrder)):(t.sort((o,a)=>a.index-o.index),t.sort((o,a)=>o.renderOrder-a.renderOrder)),t.sort((o,a)=>o.target.index-a.target.index),this.stacks.renderTargets=t}addToRegularPlaneStack(e){const t=this.renderer.planes.filter(o=>o.type!=="PingPongPlane"&&!o.target&&o._transparent===e._transparent&&o.uuid!==e.uuid);let i=-1;for(let o=t.length-1;o>=0;o--)if(t[o]._geometry.definition.id===e._geometry.definition.id){i=o+1;break}return i=Math.max(0,i),t.splice(i,0,e),t.sort((o,a)=>o.index-a.index),t}addPlane(e){if(e.type==="PingPongPlane")this.stacks.pingPong.push(e);else if(e.target)this.addToRenderTargetsStack(e);else if(e._transparent){const t=this.addToRegularPlaneStack(e);t.sort((i,o)=>o.relativeTranslation.z-i.relativeTranslation.z),t.sort((i,o)=>o.renderOrder-i.renderOrder),this.stacks.transparent=t}else{const t=this.addToRegularPlaneStack(e);t.sort((i,o)=>o.renderOrder-i.renderOrder),this.stacks.opaque=t}}removePlane(e){e.type==="PingPongPlane"?this.stacks.pingPong=this.stacks.pingPong.filter(t=>t.uuid!==e.uuid):e.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(t=>t.uuid!==e.uuid):e._transparent?this.stacks.transparent=this.stacks.transparent.filter(t=>t.uuid!==e.uuid):this.stacks.opaque=this.stacks.opaque.filter(t=>t.uuid!==e.uuid)}setPlaneRenderOrder(e){if(e.type==="ShaderPass")this.sortShaderPassStack(e._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if(e.type==="PingPongPlane")return;if(e.target)e.target._depth?(this.stacks.renderTargets.sort((t,i)=>t.index-i.index),this.stacks.renderTargets.sort((t,i)=>i.renderOrder-t.renderOrder)):(this.stacks.renderTargets.sort((t,i)=>i.index-t.index),this.stacks.renderTargets.sort((t,i)=>t.renderOrder-i.renderOrder)),this.stacks.renderTargets.sort((t,i)=>t.target.index-i.target.index);else{const t=e._transparent?this.stacks.transparent:this.stacks.opaque,i=this.stacks.scenePasses.find((o,a)=>o._isScenePass&&!o._depth&&a===0);!this.renderer.depth||i?(t.sort((o,a)=>a.index-o.index),e._transparent&&t.sort((o,a)=>o.relativeTranslation.z-a.relativeTranslation.z),t.sort((o,a)=>o.renderOrder-a.renderOrder)):(t.sort((o,a)=>o.index-a.index),e._transparent&&t.sort((o,a)=>a.relativeTranslation.z-o.relativeTranslation.z),t.sort((o,a)=>a.renderOrder-o.renderOrder))}}addShaderPass(e){e._isScenePass?(this.stacks.scenePasses.push(e),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(e),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(e){this.resetShaderPassStacks()}sortShaderPassStack(e){e.sort((t,i)=>t.index-i.index),e.sort((t,i)=>t.renderOrder-i.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length===0&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let e=0;e<this.stacks.renderPasses.length;e++)this.stacks.renderPasses[e]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let e=0;e<this.stacks.scenePasses.length;e++)this.stacks.scenePasses[e]._startDrawing()}drawPingPongStack(){for(let e=0;e<this.stacks.pingPong.length;e++){const t=this.stacks.pingPong[e];t&&t._startDrawing()}}drawStack(e){for(let t=0;t<this.stacks[e].length;t++){const i=this.stacks[e][t];i&&i._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.renderer.setBlending(!1),this.drawStack("opaque"),this.stacks.transparent.length&&(this.renderer.setBlending(!0),this.drawStack("transparent")),this.drawScenePasses()}}class Hf{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(e){return this.geometries.find(t=>t.id===e)}addGeometry(e,t,i){this.geometries.push({id:e,vertices:t,uvs:i})}isSameShader(e,t){return e.localeCompare(t)===0}getProgramFromShaders(e,t){return this.programs.find(i=>this.isSameShader(i.vsCode,e)&&this.isSameShader(i.fsCode,t))}addProgram(e){this.programs.push(e)}getTextureFromSource(e){const t=typeof e=="string"?e:e.src;return this.textures.find(i=>i.source&&i.source.src===t)}addTexture(e){this.getTextureFromSource(e.source)||this.textures.push(e)}removeTexture(e){this.textures=this.textures.filter(t=>t.uuid!==e.uuid)}}class qf{constructor(){this.clear()}clear(){this.queue=[]}add(e,t=!1){const i={callback:e,keep:t,timeout:null};return i.timeout=setTimeout(()=>{this.queue.push(i)},0),i}execute(){this.queue.map(e=>{e.callback&&e.callback(),clearTimeout(this.queue.timeout)}),this.queue=this.queue.filter(e=>e.keep)}}class Yf{constructor({alpha:e,antialias:t,premultipliedAlpha:i,depth:o,failIfMajorPerformanceCaveat:a,preserveDrawingBuffer:r,stencil:s,container:l,pixelRatio:f,renderingScale:c,production:h,onError:d,onSuccess:b,onContextLost:p,onContextRestored:u,onDisposed:g,onSceneChange:v}){this.type="Renderer",this.alpha=e,this.antialias=t,this.premultipliedAlpha=i,this.depth=o,this.failIfMajorPerformanceCaveat=a,this.preserveDrawingBuffer=r,this.stencil=s,this.container=l,this.pixelRatio=f,this._renderingScale=c,this.production=h,this.onError=d,this.onSuccess=b,this.onContextLost=p,this.onContextRestored=u,this.onDisposed=g,this.onSceneChange=v,this.initState(),this.canvas=document.createElement("canvas");const x={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil};if(this.gl=this.canvas.getContext("webgl2",x),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.canvas.getContext("webgl",x)||this.canvas.getContext("experimental-webgl",x)),this.gl)this.onSuccess&&this.onSuccess();else{this.production||R(this.type+": WebGL context could not be created"),this.state.isActive=!1,this.onError&&this.onError();return}this.initRenderer()}initState(){this.state={isActive:!0,isContextLost:!0,drawingEnabled:!0,forceRender:!1,currentProgramID:null,currentGeometryID:null,forceBufferUpdate:!1,depthTest:null,blending:null,cullFace:null,frameBufferID:null,scenePassIndex:null,activeTexture:null,unpackAlignment:null,flipY:null,premultiplyAlpha:null}}initCallbackQueueManager(){this.nextRender=new qf}initRenderer(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this.state.isContextLost=!1,this.state.maxTextureSize=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.initCallbackQueueManager(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache=new Hf,this.scene=new Wf(this),this.getExtensions(),this._contextLostHandler=this.contextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this._contextLostHandler,!1),this._contextRestoredHandler=this.contextRestored.bind(this),this.canvas.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1)}getExtensions(){this.extensions=[],this._isWebGL2?(this.extensions.EXT_color_buffer_float=this.gl.getExtension("EXT_color_buffer_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context")):(this.extensions.OES_vertex_array_object=this.gl.getExtension("OES_vertex_array_object"),this.extensions.OES_texture_float=this.gl.getExtension("OES_texture_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.OES_texture_half_float=this.gl.getExtension("OES_texture_half_float"),this.extensions.OES_texture_half_float_linear=this.gl.getExtension("OES_texture_half_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.OES_element_index_uint=this.gl.getExtension("OES_element_index_uint"),this.extensions.OES_standard_derivatives=this.gl.getExtension("OES_standard_derivatives"),this.extensions.EXT_sRGB=this.gl.getExtension("EXT_sRGB"),this.extensions.WEBGL_depth_texture=this.gl.getExtension("WEBGL_depth_texture"),this.extensions.WEBGL_draw_buffers=this.gl.getExtension("WEBGL_draw_buffers"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context"))}contextLost(e){this.state.isContextLost=!0,this.state.isActive&&(e.preventDefault(),this.nextRender.add(()=>this.onContextLost&&this.onContextLost()))}restoreContext(){!this.state.isActive||(this.initState(),this.gl&&this.extensions.WEBGL_lose_context?this.extensions.WEBGL_lose_context.restoreContext():(!this.gl&&!this.production?R(this.type+": Could not restore the context because the context is not defined"):!this.extensions.WEBGL_lose_context&&!this.production&&R(this.type+": Could not restore the context because the restore context extension is not defined"),this.onError&&this.onError()))}isContextexFullyRestored(){let e=!0;for(let t=0;t<this.renderTargets.length;t++){this.renderTargets[t].textures[0]._canDraw||(e=!1);break}if(e)for(let t=0;t<this.planes.length;t++)if(this.planes[t]._canDraw){for(let i=0;i<this.planes[t].textures.length;i++)if(!this.planes[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}if(e)for(let t=0;t<this.shaderPasses.length;t++)if(this.shaderPasses[t]._canDraw){for(let i=0;i<this.shaderPasses[t].textures.length;i++)if(!this.shaderPasses[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}return e}contextRestored(){this.getExtensions(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache.clear(),this.scene.initStacks();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t]._restoreContext();for(let t=0;t<this.planes.length;t++)this.planes[t]._restoreContext();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._restoreContext();const e=this.nextRender.add(()=>{this.isContextexFullyRestored()&&(e.keep=!1,this.state.isContextLost=!1,this.onContextRestored&&this.onContextRestored(),this.onSceneChange(),this.needRender())},!0)}setPixelRatio(e){this.pixelRatio=e}setSize(){if(!this.gl)return;const e=this.container.getBoundingClientRect();this._boundingRect={width:e.width*this.pixelRatio,height:e.height*this.pixelRatio,top:e.top*this.pixelRatio,left:e.left*this.pixelRatio};const t=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(t&&i){let a=function(r){let s=0;for(;r&&!isNaN(r.offsetTop);)s+=r.offsetTop-r.scrollTop,r=r.offsetParent;return s};var o=a;this._boundingRect.top=a(this.container)*this.pixelRatio}this.canvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+"px",this.canvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+"px",this.canvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.canvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}resize(){for(let e=0;e<this.planes.length;e++)this.planes[e]._canDraw&&this.planes[e].resize();for(let e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._canDraw&&this.shaderPasses[e].resize();for(let e=0;e<this.renderTargets.length;e++)this.renderTargets[e].resize();this.needRender()}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearDepth(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}clearColor(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}bindFrameBuffer(e,t){let i=null;e?(i=e.index,i!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e._frameBuffer),this.gl.viewport(0,0,e._size.width,e._size.height),e._shouldClear&&!t&&this.clear())):this.state.frameBufferID!==null&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this.state.frameBufferID=i}setDepthTest(e){e&&!this.state.depthTest?(this.state.depthTest=e,this.gl.enable(this.gl.DEPTH_TEST)):!e&&this.state.depthTest&&(this.state.depthTest=e,this.gl.disable(this.gl.DEPTH_TEST))}setDepthFunc(){this.gl.depthFunc(this.gl.LEQUAL)}setBlending(e=!1){e&&!this.state.blending?(this.state.blending=e,this.gl.enable(this.gl.BLEND)):!e&&this.state.blending&&(this.state.blending=e,this.gl.disable(this.gl.BLEND))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.premultipliedAlpha?this.gl.blendFuncSeparate(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}setFaceCulling(e){if(this.state.cullFace!==e)if(this.state.cullFace=e,e==="none")this.gl.disable(this.gl.CULL_FACE);else{const t=e==="front"?this.gl.FRONT:this.gl.BACK;this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(t)}}useProgram(e){(this.state.currentProgramID===null||this.state.currentProgramID!==e.id)&&(this.gl.useProgram(e.program),this.state.currentProgramID=e.id)}removePlane(e){!this.gl||(this.planes=this.planes.filter(t=>t.uuid!==e.uuid),this.scene.removePlane(e),e=null,this.gl&&this.clear(),this.onSceneChange())}removeRenderTarget(e){if(!this.gl)return;let t=this.planes.find(i=>i.type!=="PingPongPlane"&&i.target&&i.target.uuid===e.uuid);for(let i=0;i<this.planes.length;i++)this.planes[i].target&&this.planes[i].target.uuid===e.uuid&&(this.planes[i].target=null);this.renderTargets=this.renderTargets.filter(i=>i.uuid!==e.uuid);for(let i=0;i<this.renderTargets.length;i++)this.renderTargets[i].index=i;e=null,this.gl&&this.clear(),t&&this.scene.resetPlaneStacks(),this.onSceneChange()}removeShaderPass(e){!this.gl||(this.shaderPasses=this.shaderPasses.filter(t=>t.uuid!==e.uuid),this.scene.removeShaderPass(e),e=null,this.gl&&this.clear(),this.onSceneChange())}enableDrawing(){this.state.drawingEnabled=!0}disableDrawing(){this.state.drawingEnabled=!1}needRender(){this.state.forceRender=!0}render(){!this.gl||(this.clear(),this.state.currentGeometryID=null,this.scene.draw())}deletePrograms(){for(let e=0;e<this.cache.programs.length;e++){const t=this.cache.programs[e];this.gl.deleteProgram(t.program)}}dispose(){if(!this.gl)return;for(this.state.isActive=!1;this.planes.length>0;)this.removePlane(this.planes[0]);for(;this.shaderPasses.length>0;)this.removeShaderPass(this.shaderPasses[0]);for(;this.renderTargets.length>0;)this.removeRenderTarget(this.renderTargets[0]);let e=this.nextRender.add(()=>{this.planes.length===0&&this.shaderPasses.length===0&&this.renderTargets.length===0&&(e.keep=!1,this.deletePrograms(),this.clear(),this.canvas.removeEventListener("webgllost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglrestored",this._contextRestoredHandler,!1),this.gl&&this.extensions.WEBGL_lose_context&&this.extensions.WEBGL_lose_context.loseContext(),this.canvas.width=this.canvas.width,this.gl=null,this.container.removeChild(this.canvas),this.container=null,this.canvas=null,this.onDisposed&&this.onDisposed())},!0)}}class Gf{constructor({xOffset:e=0,yOffset:t=0,lastXDelta:i=0,lastYDelta:o=0,shouldWatch:a=!0,onScroll:r=()=>{}}={}){this.xOffset=e,this.yOffset=t,this.lastXDelta=i,this.lastYDelta=o,this.shouldWatch=a,this.onScroll=r,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.addEventListener("scroll",this.handler,{passive:!0})}scroll(){this.updateScrollValues(window.pageXOffset,window.pageYOffset)}updateScrollValues(e,t){const i=this.xOffset;this.xOffset=e,this.lastXDelta=i-this.xOffset;const o=this.yOffset;this.yOffset=t,this.lastYDelta=o-this.yOffset,this.onScroll&&this.onScroll(this.lastXDelta,this.lastYDelta)}dispose(){this.shouldWatch&&window.removeEventListener("scroll",this.handler,{passive:!0})}}const Xf="8.1.3";class Kf{constructor({container:e,alpha:t=!0,premultipliedAlpha:i=!1,antialias:o=!0,depth:a=!0,failIfMajorPerformanceCaveat:r=!0,preserveDrawingBuffer:s=!1,stencil:l=!1,autoResize:f=!0,autoRender:c=!0,watchScroll:h=!0,pixelRatio:d=window.devicePixelRatio||1,renderingScale:b=1,production:p=!1}={}){this.type="Curtains",this._autoResize=f,this._autoRender=c,this._watchScroll=h,this.pixelRatio=d,b=isNaN(b)?1:parseFloat(b),this._renderingScale=Math.max(.25,Math.min(1,b)),this.premultipliedAlpha=i,this.alpha=t,this.antialias=o,this.depth=a,this.failIfMajorPerformanceCaveat=r,this.preserveDrawingBuffer=s,this.stencil=l,this.production=p,this.errors=!1,e?this.setContainer(e):this.production||R(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(e){if(e)if(typeof e=="string")if(e=document.getElementById(e),e)this.container=e;else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||R('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}else e instanceof Element&&(this.container=e);else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||R('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),console.log("curtains.js - v"+Xf),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new Yf({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onSuccess:()=>this._onRendererSuccess(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(e,t=!1){return this.renderer.nextRender.add(e,t)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return this.gl?this.renderer._isWebGL2:!1}render(){this.renderer.nextRender.execute(),!(!this.renderer.state.drawingEnabled&&!this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener("resize",this._resizeHandler,!1))}setPixelRatio(e,t){this.pixelRatio=parseFloat(Math.max(e,1))||1,this.renderer.setPixelRatio(e),this.resize(t)}_setSize(){this.renderer.setSize(),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)}getBoundingRect(){return this.renderer._boundingRect}resize(e){!this.gl||(this._setSize(),this.renderer.resize(),this.nextRender(()=>{this._onAfterResizeCallback&&e&&this._onAfterResizeCallback()}))}_initScroll(){this._scrollManager=new Gf({xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0,shouldWatch:this._watchScroll,onScroll:(e,t)=>this._updateScroll(e,t)})}_updateScroll(e,t){for(let i=0;i<this.planes.length;i++)this.planes[i].watchScroll&&this.planes[i].updateScrollPosition(e,t);this.renderer.needRender(),this._onScrollCallback&&this._onScrollCallback()}updateScrollValues(e,t){this._scrollManager.updateScrollValues(e,t)}getScrollDeltas(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}}getScrollValues(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}}_keepSync(){this.planes=this.renderer.planes,this.shaderPasses=this.renderer.shaderPasses,this.renderTargets=this.renderer.renderTargets}lerp(e,t,i){return Bf(e,t,i)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}onError(e){return e&&(this._onErrorCallback=e),this}_onRendererError(){setTimeout(()=>{this._onErrorCallback&&!this.errors&&this._onErrorCallback(),this.errors=!0},0)}onSuccess(e){return e&&(this._onSuccessCallback=e),this}_onRendererSuccess(){setTimeout(()=>{this._onSuccessCallback&&this._onSuccessCallback()},0)}onContextLost(e){return e&&(this._onContextLostCallback=e),this}_onRendererContextLost(){this._onContextLostCallback&&this._onContextLostCallback()}onContextRestored(e){return e&&(this._onContextRestoredCallback=e),this}_onRendererContextRestored(){this._onContextRestoredCallback&&this._onContextRestoredCallback()}onRender(e){return e&&(this._onRenderCallback=e),this}onScroll(e){return e&&(this._onScrollCallback=e),this}dispose(){this.renderer.dispose()}_onRendererDisposed(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler,!1),this._scrollManager&&this._scrollManager.dispose()}}class Qf{constructor(e,t,i){if(this.type="Uniforms",!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){ee(this.type+": Renderer WebGL context is undefined",e);return}if(this.renderer=e,this.gl=e.gl,this.program=t,this.uniforms={},i)for(const o in i){const a=i[o];this.uniforms[o]={name:a.name,type:a.type,value:a.value.clone&&typeof a.value.clone=="function"?a.value.clone():a.value,update:null}}}handleUniformSetting(e){switch(e.type){case"1i":e.update=this.setUniform1i.bind(this);break;case"1iv":e.update=this.setUniform1iv.bind(this);break;case"1f":e.update=this.setUniform1f.bind(this);break;case"1fv":e.update=this.setUniform1fv.bind(this);break;case"2i":e.update=this.setUniform2i.bind(this);break;case"2iv":e.update=this.setUniform2iv.bind(this);break;case"2f":e.update=this.setUniform2f.bind(this);break;case"2fv":e.update=this.setUniform2fv.bind(this);break;case"3i":e.update=this.setUniform3i.bind(this);break;case"3iv":e.update=this.setUniform3iv.bind(this);break;case"3f":e.update=this.setUniform3f.bind(this);break;case"3fv":e.update=this.setUniform3fv.bind(this);break;case"4i":e.update=this.setUniform4i.bind(this);break;case"4iv":e.update=this.setUniform4iv.bind(this);break;case"4f":e.update=this.setUniform4f.bind(this);break;case"4fv":e.update=this.setUniform4fv.bind(this);break;case"mat2":e.update=this.setUniformMatrix2fv.bind(this);break;case"mat3":e.update=this.setUniformMatrix3fv.bind(this);break;case"mat4":e.update=this.setUniformMatrix4fv.bind(this);break;default:this.renderer.production||R(this.type+": This uniform type is not handled : ",e.type)}}setInternalFormat(e){e.value.type==="Vec2"?(e._internalFormat="Vec2",e.lastValue=e.value.clone()):e.value.type==="Vec3"?(e._internalFormat="Vec3",e.lastValue=e.value.clone()):e.value.type==="Mat4"?(e._internalFormat="Mat4",e.lastValue=e.value.clone()):e.value.type==="Quat"?(e._internalFormat="Quat",e.lastValue=e.value.clone()):Array.isArray(e.value)?(e._internalFormat="array",e.lastValue=Array.from(e.value)):e.value.constructor===Float32Array?(e._internalFormat="mat",e.lastValue=e.value):(e._internalFormat="float",e.lastValue=e.value)}setUniforms(){if(this.uniforms)for(const e in this.uniforms){let t=this.uniforms[e];t.location=this.gl.getUniformLocation(this.program,t.name),t._internalFormat||this.setInternalFormat(t),t.type||(t._internalFormat==="Vec2"?t.type="2f":t._internalFormat==="Vec3"?t.type="3f":t._internalFormat==="Mat4"?t.type="mat4":t._internalFormat==="array"?t.value.length===4?(t.type="4f",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a 4f (array of 4 floats) uniform type")):t.value.length===3?(t.type="3f",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a 3f (array of 3 floats) uniform type")):t.value.length===2&&(t.type="2f",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a 2f (array of 2 floats) uniform type")):t._internalFormat==="mat"?t.value.length===16?(t.type="mat4",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a mat4 (4x4 matrix array) uniform type")):t.value.length===9?(t.type="mat3",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a mat3 (3x3 matrix array) uniform type")):t.value.length===4&&(t.type="mat2",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a mat2 (2x2 matrix array) uniform type")):(t.type="1f",this.renderer.production||R(this.type+": No uniform type declared for "+t.name+", applied a 1f (float) uniform type"))),this.handleUniformSetting(t),t.update&&t.update(t)}}updateUniforms(){if(this.uniforms)for(const e in this.uniforms){const t=this.uniforms[e];let i=!1;t._internalFormat==="Vec2"||t._internalFormat==="Vec3"||t._internalFormat==="Quat"?t.value.equals(t.lastValue)||(i=!0,t.lastValue.copy(t.value)):t.value.length?JSON.stringify(t.value)!==JSON.stringify(t.lastValue)&&(i=!0,t.lastValue=Array.from(t.value)):t.value!==t.lastValue&&(i=!0,t.lastValue=t.value),i&&t.update&&t.update(t)}}setUniform1i(e){this.gl.uniform1i(e.location,e.value)}setUniform1iv(e){this.gl.uniform1iv(e.location,e.value)}setUniform1f(e){this.gl.uniform1f(e.location,e.value)}setUniform1fv(e){this.gl.uniform1fv(e.location,e.value)}setUniform2i(e){e._internalFormat==="Vec2"?this.gl.uniform2i(e.location,e.value.x,e.value.y):this.gl.uniform2i(e.location,e.value[0],e.value[1])}setUniform2iv(e){e._internalFormat==="Vec2"?this.gl.uniform2iv(e.location,[e.value.x,e.value.y]):this.gl.uniform2iv(e.location,e.value)}setUniform2f(e){e._internalFormat==="Vec2"?this.gl.uniform2f(e.location,e.value.x,e.value.y):this.gl.uniform2f(e.location,e.value[0],e.value[1])}setUniform2fv(e){e._internalFormat==="Vec2"?this.gl.uniform2fv(e.location,[e.value.x,e.value.y]):this.gl.uniform2fv(e.location,e.value)}setUniform3i(e){e._internalFormat==="Vec3"?this.gl.uniform3i(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3i(e.location,e.value[0],e.value[1],e.value[2])}setUniform3iv(e){e._internalFormat==="Vec3"?this.gl.uniform3iv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3iv(e.location,e.value)}setUniform3f(e){e._internalFormat==="Vec3"?this.gl.uniform3f(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3f(e.location,e.value[0],e.value[1],e.value[2])}setUniform3fv(e){e._internalFormat==="Vec3"?this.gl.uniform3fv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3fv(e.location,e.value)}setUniform4i(e){e._internalFormat==="Quat"?this.gl.uniform4i(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4i(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4iv(e){e._internalFormat==="Quat"?this.gl.uniform4iv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4iv(e.location,e.value)}setUniform4f(e){e._internalFormat==="Quat"?this.gl.uniform4f(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4f(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4fv(e){e._internalFormat==="Quat"?this.gl.uniform4fv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4fv(e.location,e.value)}setUniformMatrix2fv(e){this.gl.uniformMatrix2fv(e.location,!1,e.value)}setUniformMatrix3fv(e){this.gl.uniformMatrix3fv(e.location,!1,e.value)}setUniformMatrix4fv(e){e._internalFormat==="Mat4"?this.gl.uniformMatrix4fv(e.location,!1,e.value.elements):this.gl.uniformMatrix4fv(e.location,!1,e.value)}}const Zf=`
precision mediump float;
`;var Xt=Zf.replace(/\n/g,"");const Jf=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`;var fn=Jf.replace(/\n/g,"");const ec=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`;var Kt=ec.replace(/\n/g,"");const tc=Xt+fn+Kt+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;var ic=tc.replace(/\n/g,"");const oc=Xt+Kt+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;var ac=oc.replace(/\n/g,"");const nc=Xt+fn+Kt+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;var rc=nc.replace(/\n/g,"");const sc=Xt+Kt+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;var lc=sc.replace(/\n/g,"");let ta=0;class ia{constructor(e,{parent:t,vertexShader:i,fragmentShader:o}={}){if(this.type="Program",!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){ee(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.parent=t,this.defaultVsCode=this.parent.type==="Plane"?ic:rc,this.defaultFsCode=this.parent.type==="Plane"?ac:lc,i?this.vsCode=i:(!this.renderer.production&&this.parent.type==="Plane"&&R(this.parent.type+": No vertex shader provided, will use a default one"),this.vsCode=this.defaultVsCode),o?this.fsCode=o:(this.renderer.production||R(this.parent.type+": No fragment shader provided, will use a default one"),this.fsCode=this.defaultFsCode),this.compiled=!0,this.setupProgram()}createShader(e,t){const i=this.gl.createShader(t);if(this.gl.shaderSource(i,e),this.gl.compileShader(i),!this.renderer.production&&!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)){const o=t===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader";let r=this.gl.getShaderSource(i).split(`
`);for(let s=0;s<r.length;s++)r[s]=s+1+": "+r[s];return r=r.join(`
`),R(this.type+": Errors occurred while compiling the",o,`:
`,this.gl.getShaderInfoLog(i)),ee(r),R(this.type+": Will use a default",o),this.createShader(t===this.gl.VERTEX_SHADER?this.defaultVsCode:this.defaultFsCode,t)}return i}useNewShaders(){this.vertexShader=this.createShader(this.vsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.fsCode,this.gl.FRAGMENT_SHADER),(!this.vertexShader||!this.fragmentShader)&&(this.renderer.production||R(this.type+": Unable to find or compile the vertex or fragment shader"))}setupProgram(){let e=this.renderer.cache.getProgramFromShaders(this.vsCode,this.fsCode);e?(this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.activeUniforms=e.activeUniforms,this.activeAttributes=e.activeAttributes,this.createProgram()):(this.useNewShaders(),this.compiled&&(this.createProgram(),this.renderer.cache.addProgram(this)))}createProgram(){if(ta++,this.id=ta,this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program),!this.renderer.production&&!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){R(this.type+": Unable to initialize the shader program: "+this.gl.getProgramInfoLog(this.program)),R(this.type+": Will use default vertex and fragment shaders"),this.vertexShader=this.createShader(this.defaultVsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.defaultFsCode,this.gl.FRAGMENT_SHADER),this.createProgram();return}if(this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.activeUniforms||!this.activeAttributes){this.activeUniforms={textures:[],textureMatrices:[]};const e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let i=0;i<e;i++){const o=this.gl.getActiveUniform(this.program,i);o.type===this.gl.SAMPLER_2D&&this.activeUniforms.textures.push(o.name),o.type===this.gl.FLOAT_MAT4&&o.name!=="uMVMatrix"&&o.name!=="uPMatrix"&&this.activeUniforms.textureMatrices.push(o.name)}this.activeAttributes=[];const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<t;i++){const o=this.gl.getActiveAttrib(this.program,i);this.activeAttributes.push(o.name)}}}createUniforms(e){this.uniformsManager=new Qf(this.renderer,this.program,e),this.setUniforms()}setUniforms(){this.renderer.useProgram(this),this.uniformsManager.setUniforms()}updateUniforms(){this.renderer.useProgram(this),this.uniformsManager.updateUniforms()}}class fc{constructor(e,{program:t=null,width:i=1,height:o=1}={}){if(this.type="Geometry",!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){ee(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.definition={id:i*o+i,width:i,height:o},this.setDefaultAttributes(),this.setVerticesUVs()}restoreContext(e){this.program=null,this.setDefaultAttributes(),this.setVerticesUVs(),this.setProgram(e)}setDefaultAttributes(){this.attributes={vertexPosition:{name:"aVertexPosition",size:3,isActive:!1},textureCoord:{name:"aTextureCoord",size:3,isActive:!1}}}setVerticesUVs(){const e=this.renderer.cache.getGeometryFromID(this.definition.id);e?(this.attributes.vertexPosition.array=e.vertices,this.attributes.textureCoord.array=e.uvs):(this.computeVerticesUVs(),this.renderer.cache.addGeometry(this.definition.id,this.attributes.vertexPosition.array,this.attributes.textureCoord.array))}setProgram(e){this.program=e,this.initAttributes(),this.renderer._isWebGL2?(this._vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this._vao)):this.renderer.extensions.OES_vertex_array_object&&(this._vao=this.renderer.extensions.OES_vertex_array_object.createVertexArrayOES(),this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),this.initializeBuffers()}initAttributes(){for(const e in this.attributes){if(this.attributes[e].isActive=this.program.activeAttributes.includes(this.attributes[e].name),!this.attributes[e].isActive)return;this.attributes[e].location=this.gl.getAttribLocation(this.program.program,this.attributes[e].name),this.attributes[e].buffer=this.gl.createBuffer(),this.attributes[e].numberOfItems=this.definition.width*this.definition.height*this.attributes[e].size*2}}computeVerticesUVs(){this.attributes.vertexPosition.array=[],this.attributes.textureCoord.array=[];const e=this.attributes.vertexPosition.array,t=this.attributes.textureCoord.array;for(let i=0;i<this.definition.height;i++){const o=i/this.definition.height;for(let a=0;a<this.definition.width;a++){const r=a/this.definition.width;t.push(r),t.push(o),t.push(0),e.push((r-.5)*2),e.push((o-.5)*2),e.push(0),t.push(r+1/this.definition.width),t.push(o),t.push(0),e.push((r+1/this.definition.width-.5)*2),e.push((o-.5)*2),e.push(0),t.push(r),t.push(o+1/this.definition.height),t.push(0),e.push((r-.5)*2),e.push((o+1/this.definition.height-.5)*2),e.push(0),t.push(r),t.push(o+1/this.definition.height),t.push(0),e.push((r-.5)*2),e.push((o+1/this.definition.height-.5)*2),e.push(0),t.push(r+1/this.definition.width),t.push(o),t.push(0),e.push((r+1/this.definition.width-.5)*2),e.push((o-.5)*2),e.push(0),t.push(r+1/this.definition.width),t.push(o+1/this.definition.height),t.push(0),e.push((r+1/this.definition.width-.5)*2),e.push((o+1/this.definition.height-.5)*2),e.push(0)}}}initializeBuffers(){if(!!this.attributes){for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.attributes[e].array),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}}bindBuffers(){if(this._vao)this.renderer._isWebGL2?this.gl.bindVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao);else for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}draw(){this.gl.drawArrays(this.gl.TRIANGLES,0,this.attributes.vertexPosition.numberOfItems)}dispose(){this._vao&&(this.renderer._isWebGL2?this.gl.deleteVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao));for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(this.attributes[e].buffer)}this.attributes=null,this.renderer.state.currentGeometryID=null}}class Te{constructor(e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])){this.type="Mat4",this.elements=e}setFromArray(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e[t];return this}copy(e){const t=e.elements;return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this.elements[4]=t[4],this.elements[5]=t[5],this.elements[6]=t[6],this.elements[7]=t[7],this.elements[8]=t[8],this.elements[9]=t[9],this.elements[10]=t[10],this.elements[11]=t[11],this.elements[12]=t[12],this.elements[13]=t[13],this.elements[14]=t[14],this.elements[15]=t[15],this}clone(){return new Te().copy(this)}multiply(e){const t=this.elements,i=e.elements;let o=new Te;return o.elements[0]=i[0]*t[0]+i[1]*t[4]+i[2]*t[8]+i[3]*t[12],o.elements[1]=i[0]*t[1]+i[1]*t[5]+i[2]*t[9]+i[3]*t[13],o.elements[2]=i[0]*t[2]+i[1]*t[6]+i[2]*t[10]+i[3]*t[14],o.elements[3]=i[0]*t[3]+i[1]*t[7]+i[2]*t[11]+i[3]*t[15],o.elements[4]=i[4]*t[0]+i[5]*t[4]+i[6]*t[8]+i[7]*t[12],o.elements[5]=i[4]*t[1]+i[5]*t[5]+i[6]*t[9]+i[7]*t[13],o.elements[6]=i[4]*t[2]+i[5]*t[6]+i[6]*t[10]+i[7]*t[14],o.elements[7]=i[4]*t[3]+i[5]*t[7]+i[6]*t[11]+i[7]*t[15],o.elements[8]=i[8]*t[0]+i[9]*t[4]+i[10]*t[8]+i[11]*t[12],o.elements[9]=i[8]*t[1]+i[9]*t[5]+i[10]*t[9]+i[11]*t[13],o.elements[10]=i[8]*t[2]+i[9]*t[6]+i[10]*t[10]+i[11]*t[14],o.elements[11]=i[8]*t[3]+i[9]*t[7]+i[10]*t[11]+i[11]*t[15],o.elements[12]=i[12]*t[0]+i[13]*t[4]+i[14]*t[8]+i[15]*t[12],o.elements[13]=i[12]*t[1]+i[13]*t[5]+i[14]*t[9]+i[15]*t[13],o.elements[14]=i[12]*t[2]+i[13]*t[6]+i[14]*t[10]+i[15]*t[14],o.elements[15]=i[12]*t[3]+i[13]*t[7]+i[14]*t[11]+i[15]*t[15],o}getInverse(){const e=this.elements,t=new Te,i=t.elements;let o=e[0],a=e[1],r=e[2],s=e[3],l=e[4],f=e[5],c=e[6],h=e[7],d=e[8],b=e[9],p=e[10],u=e[11],g=e[12],v=e[13],x=e[14],C=e[15],w=o*f-a*l,S=o*c-r*l,E=o*h-s*l,P=a*c-r*f,k=a*h-s*f,D=r*h-s*c,N=d*v-b*g,y=d*x-p*g,_=d*C-u*g,A=b*x-p*v,T=b*C-u*v,I=p*C-u*x,O=w*I-S*T+E*A+P*_-k*y+D*N;return O?(O=1/O,i[0]=(f*I-c*T+h*A)*O,i[1]=(r*T-a*I-s*A)*O,i[2]=(v*D-x*k+C*P)*O,i[3]=(p*k-b*D-u*P)*O,i[4]=(c*_-l*I-h*y)*O,i[5]=(o*I-r*_+s*y)*O,i[6]=(x*E-g*D-C*S)*O,i[7]=(d*D-p*E+u*S)*O,i[8]=(l*T-f*_+h*N)*O,i[9]=(a*_-o*T-s*N)*O,i[10]=(g*k-v*E+C*w)*O,i[11]=(b*E-d*k-u*w)*O,i[12]=(f*y-l*A-c*N)*O,i[13]=(o*A-a*y+r*N)*O,i[14]=(v*S-g*P-x*w)*O,i[15]=(d*P-b*S+p*w)*O,t):null}scale(e){let t=this.elements;return t[0]*=e.x,t[1]*=e.x,t[2]*=e.x,t[3]*=e.x,t[4]*=e.y,t[5]*=e.y,t[6]*=e.y,t[7]*=e.y,t[8]*=e.z,t[9]*=e.z,t[10]*=e.z,t[11]*=e.z,this}compose(e,t,i){let o=this.elements;const a=t.elements[0],r=t.elements[1],s=t.elements[2],l=t.elements[3],f=a+a,c=r+r,h=s+s,d=a*f,b=a*c,p=a*h,u=r*c,g=r*h,v=s*h,x=l*f,C=l*c,w=l*h,S=i.x,E=i.y,P=i.z;return o[0]=(1-(u+v))*S,o[1]=(b+w)*S,o[2]=(p-C)*S,o[3]=0,o[4]=(b-w)*E,o[5]=(1-(d+v))*E,o[6]=(g+x)*E,o[7]=0,o[8]=(p+C)*P,o[9]=(g-x)*P,o[10]=(1-(d+u))*P,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}composeFromOrigin(e,t,i,o){let a=this.elements;const r=t.elements[0],s=t.elements[1],l=t.elements[2],f=t.elements[3],c=r+r,h=s+s,d=l+l,b=r*c,p=r*h,u=r*d,g=s*h,v=s*d,x=l*d,C=f*c,w=f*h,S=f*d,E=i.x,P=i.y,k=i.z,D=o.x,N=o.y,y=o.z,_=(1-(g+x))*E,A=(p+S)*E,T=(u-w)*E,I=(p-S)*P,O=(1-(b+x))*P,U=(v+C)*P,K=(u+w)*k,H=(v-C)*k,ne=(1-(b+g))*k;return a[0]=_,a[1]=A,a[2]=T,a[3]=0,a[4]=I,a[5]=O,a[6]=U,a[7]=0,a[8]=K,a[9]=H,a[10]=ne,a[11]=0,a[12]=e.x+D-(_*D+I*N+K*y),a[13]=e.y+N-(A*D+O*N+H*y),a[14]=e.z+y-(T*D+U*N+ne*y),a[15]=1,this}}class de{constructor(e=0,t=e){this.type="Vec2",this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t){return this._x=e,this._y=t,this}add(e){return this._x+=e.x,this._y+=e.y,this}addScalar(e){return this._x+=e,this._y+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this}subScalar(e){return this._x-=e,this._y-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this}multiplyScalar(e){return this._x*=e,this._y*=e,this}copy(e){return this._x=e.x,this._y=e.y,this}clone(){return new de(this._x,this._y)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this}equals(e){return this._x===e.x&&this._y===e.y}normalize(){let e=this._x*this._x+this._y*this._y;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this}dot(e){return this._x*e.x+this._y*e.y}}class V{constructor(e=0,t=e,i=e){this.type="Vec3",this._x=e,this._y=t,this._z=i}get x(){return this._x}get y(){return this._y}get z(){return this._z}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}set z(e){const t=e!==this._z;this._z=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t,i){return this._x=e,this._y=t,this._z=i,this}add(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this}addScalar(e){return this._x+=e,this._y+=e,this._z+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this}subScalar(e){return this._x-=e,this._y-=e,this._z-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this._z*=e.z,this}multiplyScalar(e){return this._x*=e,this._y*=e,this._z*=e,this}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this}clone(){return new V(this._x,this._y,this._z)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this._z=isNaN(this._z)?e.z:parseFloat(this._z),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this._z=Math.max(this._z,e.z),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this._z=Math.min(this._z,e.z),this}equals(e){return this._x===e.x&&this._y===e.y&&this._z===e.z}normalize(){let e=this._x*this._x+this._y*this._y+this._z*this._z;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this._z*=e,this}dot(e){return this._x*e.x+this._y*e.y+this._z*e.z}applyMat4(e){const t=this._x,i=this._y,o=this._z,a=e.elements;let r=a[3]*t+a[7]*i+a[11]*o+a[15];return r=r||1,this._x=(a[0]*t+a[4]*i+a[8]*o+a[12])/r,this._y=(a[1]*t+a[5]*i+a[9]*o+a[13])/r,this._z=(a[2]*t+a[6]*i+a[10]*o+a[14])/r,this}applyQuat(e){const t=this._x,i=this._y,o=this._z,a=e.elements[0],r=e.elements[1],s=e.elements[2],l=e.elements[3],f=l*t+r*o-s*i,c=l*i+s*t-a*o,h=l*o+a*i-r*t,d=-a*t-r*i-s*o;return this._x=f*l+d*-a+c*-s-h*-r,this._y=c*l+d*-r+h*-a-f*-s,this._z=h*l+d*-s+f*-r-c*-a,this}project(e){return this.applyMat4(e.viewMatrix).applyMat4(e.projectionMatrix),this}unproject(e){return this.applyMat4(e.projectionMatrix.getInverse()).applyMat4(e.worldMatrix),this}}const hi=new de,cc=new V,dc=new Te;class mt{constructor(e,{isFBOTexture:t=!1,fromTexture:i=!1,loader:o,sampler:a,floatingPoint:r="none",premultiplyAlpha:s=!1,anisotropy:l=1,generateMipmap:f=null,wrapS:c,wrapT:h,minFilter:d,magFilter:b}={}){if(this.type="Texture",e=e&&e.renderer||e,!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){e.production||ee(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined");return}if(this.renderer=e,this.gl=this.renderer.gl,this.uuid=ln(),this._globalParameters={unpackAlignment:4,flipY:!t,premultiplyAlpha:!1,shouldPremultiplyAlpha:s,floatingPoint:r,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:l,generateMipmap:f,wrapS:c||this.gl.CLAMP_TO_EDGE,wrapT:h||this.gl.CLAMP_TO_EDGE,minFilter:d||this.gl.LINEAR,magFilter:b||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=t?"fbo":"empty",this._useCache=!0,this._samplerName=a,this._sampler={isActive:!1,isTextureBound:!1,texture:this.gl.createTexture()},this._textureMatrix={matrix:new Te,isActive:!1},this._size={width:1,height:1},this.scale=new de(1),this.scale.onChange(()=>this.resize()),this.offset=new de,this.offset.onChange(()=>this.resize()),this._loader=o,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,i){this._copyOnInit=!0,this._copiedFrom=i;return}this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.sourceType==="empty"&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.texture=this.gl.createTexture(),this._sampler.isActive=!1,this._sampler.isTextureBound=!1,this._textureMatrix.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,!this._copiedFrom)this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),this.sourceType==="image"?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0;else{const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),e.keep=!1)},!0)}}addParent(e){if(!e||e.type!=="Plane"&&e.type!=="PingPongPlane"&&e.type!=="ShaderPass"&&e.type!=="RenderTarget"){this.renderer.production||R(this.type+": cannot add texture as a child of ",e," because it is not a valid parent");return}this._parent=e,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent()}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program){if(!this._parent._program.compiled){this.renderer.production||R(this.type+": Unable to create the texture because the program is not valid");return}if(this._setTextureUniforms(),this._copyOnInit){const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&this._copiedFrom._uploaded&&(this.copy(this._copiedFrom),e.keep=!1)},!0);return}this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize()}else this._parent.type==="RenderTarget"&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){const e=this._parent._program.activeUniforms;for(let t=0;t<e.textures.length;t++)e.textures[t]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),e.textureMatrices.find(o=>o===this._textureMatrix.name)&&(this._textureMatrix.isActive=!0,this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name)),this.gl.uniform1i(this._sampler.location,this.index))}copy(e){if(!e||e.type!=="Texture"){this.renderer.production||R(this.type+": Unable to set the texture from texture:",e);return}this._globalParameters=Object.assign({},e._globalParameters),this._state=Object.assign({},e._state),this.parameters.generateMipmap=e.parameters.generateMipmap,this._state.generateMipmap=null,this._size=e._size,!this._sourceLoaded&&e._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=e._sourceLoaded,!this._uploaded&&e._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=e._uploaded,this.sourceType=e.sourceType,this.source=e.source,this._videoFrameCallbackID=e._videoFrameCallbackID,this._sampler.texture=e._sampler.texture,this._copiedFrom=e,this._parent&&this._parent._program&&(!this._canDraw||!this._textureMatrix.matrix)&&(this._setSize(),this._canDraw=!0),this._updateTexParameters(),this.renderer.needRender()}setSource(e){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());const t=e.tagName.toUpperCase()==="IMG"?"image":e.tagName.toLowerCase();if((t==="video"||t==="canvas")&&(this._useCache=!1),this._useCache){const i=this.renderer.cache.getTextureFromSource(e);if(i&&i.uuid!==this.uuid){this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(i),this.resize();return}}if(this.sourceType==="empty"||this.sourceType!==t)if(t==="video")this._willUpdate=!1,this.shouldUpdate=!0;else if(t==="canvas")this._willUpdate=!0,this.shouldUpdate=!0;else if(t==="image")this._willUpdate=!1,this.shouldUpdate=!1;else{this.renderer.production||R(this.type+": this HTML tag could not be converted into a texture:",e.tagName);return}this.source=e,this.sourceType=t,this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,this._globalParameters.premultiplyAlpha=this._globalParameters.shouldPremultiplyAlpha,this.sourceType==="image"&&(this.parameters.generateMipmap=this.parameters.generateMipmap||this.parameters.generateMipmap===null,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),this._globalParameters.floatingPoint==="half-float"?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||R(this.type+": could not use half-float textures because the extension is not available"):this._globalParameters.floatingPoint==="float"&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||R(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(),this.parameters.wrapS!==this._state.wrapS&&(!this.renderer._isWebGL2&&(!xe(this._size.width)||!xe(this._size.height))&&(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||R(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(!this.renderer._isWebGL2&&(!xe(this._size.width)||!xe(this._size.height))&&(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||R(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(!this.renderer._isWebGL2&&(!xe(this._size.width)||!xe(this._size.height))?this.parameters.generateMipmap=!1:this.gl.generateMipmap(this.gl.TEXTURE_2D),this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(!this.renderer._isWebGL2&&(!xe(this._size.width)||!xe(this._size.height))&&(this.parameters.minFilter=this.gl.LINEAR),!this.parameters.generateMipmap&&this.parameters.generateMipmap!==null&&(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||R(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(!this.renderer._isWebGL2&&(!xe(this._size.width)||!xe(this._size.height))&&(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||R(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);const e=this.renderer.extensions.EXT_texture_filter_anisotropic;if(e&&this.parameters.anisotropy!==this._state.anisotropy){const t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,t)),this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy}}setWrapS(e){this.parameters.wrapS!==e&&(this.parameters.wrapS=e,this.parameters._shouldUpdate=!0)}setWrapT(e){this.parameters.wrapT!==e&&(this.parameters.wrapT=e,this.parameters._shouldUpdate=!0)}setMinFilter(e){this.parameters.minFilter!==e&&(this.parameters.minFilter=e,this.parameters._shouldUpdate=!0)}setMagFilter(e){this.parameters.magFilter!==e&&(this.parameters.magFilter=e,this.parameters._shouldUpdate=!0)}setAnisotropy(e){e=isNaN(e)?this.parameters.anisotropy:e,this.parameters.anisotropy!==e&&(this.parameters.anisotropy=e,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):this.sourceType==="fbo"&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source||null),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if(this.sourceType==="fbo")return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};const e=this._parent.scale?hi.set(this._parent.scale.x,this._parent.scale.y):hi.set(1,1),t=this._parent._boundingRect.document.width*e.x,i=this._parent._boundingRect.document.height*e.y,o=this._size.width,a=this._size.height,r=o/a,s=t/i;let l=0,f=0;return s>r?f=Math.min(0,i-t*(1/r)):s<r&&(l=Math.min(0,t-i*r)),{parentWidth:t,parentHeight:i,sourceWidth:o,sourceHeight:a,xOffset:l,yOffset:f}}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||R(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(hi.set(.001,.001)),e.equals(this.scale)||(this.scale.copy(e),this.resize())}setOffset(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||R(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale);return}e.sanitizeNaNValuesWith(this.offset),e.equals(this.offset)||(this.offset.copy(e),this.resize())}_setSize(){if(this._parent&&this._parent._program){const e=this._getSizes();this._updateTextureMatrix(e)}}resize(){this.sourceType==="fbo"?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(e){const t=cc.set(e.parentWidth/(e.parentWidth-e.xOffset),e.parentHeight/(e.parentHeight-e.yOffset),1);t.x/=this.scale.x,t.y/=this.scale.y,this._textureMatrix.matrix=dc.setFromArray([t.x,0,0,0,0,t.y,0,0,0,0,1,0,(1-t.x)/2+this.offset.x,(1-t.y)/2+this.offset.y,0,1]),this._updateMatrixUniform()}_updateMatrixUniform(){this._textureMatrix.isActive&&(this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements))}_onSourceLoaded(e){this.setSource(e),this.sourceType==="image"&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this._sampler.isTextureBound||(this._sampler.isTextureBound=!!this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._sampler.isTextureBound&&this.renderer.needRender()))}_draw(){this._sampler.isActive&&(this._bindTexture(),this.sourceType==="video"&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),this.sourceType==="video"&&(this._willUpdate=!1),this._forceUpdate=!1),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(e){return e&&(this._onSourceLoadedCallback=e),this}onSourceUploaded(e){return e&&(this._onSourceUploadedCallback=e),this}_dispose(e=!1){this.sourceType==="video"||this.sourceType==="image"&&!this.renderer.state.isActive?(this._loader&&this._loader._removeSource(this),this.source=null):this.sourceType==="canvas"&&(this.source.width=this.source.width,this.source=null),this._parent=null,this.gl&&!this._copiedFrom&&(e||this.sourceType!=="image"||!this.renderer.state.isActive)&&(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}class hc{constructor(e,t="anonymous"){if(this.type="TextureLoader",e=e&&e.renderer||e,!e||e.type!=="Renderer")ee(this.type+": Renderer not passed as first argument",e);else if(!e.gl){ee(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.crossOrigin=t,this.elements=[]}_addElement(e,t,i,o){const a={source:e,texture:t,load:this._sourceLoaded.bind(this,e,t,i),error:this._sourceLoadError.bind(this,e,o)};return this.elements.push(a),a}_sourceLoadError(e,t,i){t&&t(e,i)}_sourceLoaded(e,t,i){t._sourceLoaded||(t._onSourceLoaded(e),this._parent&&(this._increment&&this._increment(),this.renderer.nextRender.add(()=>this._parent._onLoadingCallback&&this._parent._onLoadingCallback(t))),i&&i(t))}_getSourceType(e){let t;return typeof e=="string"?e.match(/\.(jpeg|jpg|jfif|pjpeg|pjp|gif|bmp|png|webp|svg|avif|apng)$/)!==null?t="image":e.match(/\.(webm|mp4|mpg|mpeg|avi|ogg|ogm|ogv|mov|av1)$/)!==null&&(t="video"):e.tagName.toUpperCase()==="IMG"?t="image":e.tagName.toUpperCase()==="VIDEO"?t="video":e.tagName.toUpperCase()==="CANVAS"&&(t="canvas"),t}_createImage(e){if(typeof e=="string"||!e.hasAttribute("crossOrigin")){const t=new Image;return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}_createVideo(e){if(typeof e=="string"||e.getAttribute("crossOrigin")===null){const t=document.createElement("video");return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}loadSource(e,t,i,o){switch(this._getSourceType(e)){case"image":this.loadImage(e,t,i,o);break;case"video":this.loadVideo(e,t,i,o);break;case"canvas":this.loadCanvas(e,t,i);break;default:this._sourceLoadError(e,o,"this source could not be converted into a texture: "+e);break}}loadSources(e,t,i,o){for(let a=0;a<e.length;a++)this.loadSource(e[a],t,i,o)}loadImage(e,t={},i,o){const a=this.renderer.cache.getTextureFromSource(e);let r=Object.assign({},t);if(this._parent&&(r=Object.assign(r,this._parent._texturesOptions)),r.loader=this,a){r.sampler=typeof e!="string"&&e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):r.sampler,r.fromTexture=a;const c=new mt(this.renderer,r);this._sourceLoaded(a.source,c,i),this._parent&&this._addToParent(c,a.source,"image");return}const s=this._createImage(e);r.sampler=s.hasAttribute("data-sampler")?s.getAttribute("data-sampler"):r.sampler;const l=new mt(this.renderer,r),f=this._addElement(s,l,i,o);s.complete?this._sourceLoaded(s,l,i):s.decode?s.decode().then(this._sourceLoaded.bind(this,s,l,i)).catch(()=>{s.addEventListener("load",f.load,!1),s.addEventListener("error",f.error,!1)}):(s.addEventListener("load",f.load,!1),s.addEventListener("error",f.error,!1)),this._parent&&this._addToParent(l,s,"image")}loadImages(e,t,i,o){for(let a=0;a<e.length;a++)this.loadImage(e[a],t,i,o)}loadVideo(e,t={},i,o){const a=this._createVideo(e);a.preload=!0,a.muted=!0,a.loop=!0,a.setAttribute("playsinline",""),a.crossOrigin=this.crossOrigin;let r=Object.assign({},t);this._parent&&(r=Object.assign(t,this._parent._texturesOptions)),r.loader=this,r.sampler=a.hasAttribute("data-sampler")?a.getAttribute("data-sampler"):r.sampler;const s=new mt(this.renderer,r),l=this._addElement(a,s,i,o);a.addEventListener("canplaythrough",l.load,!1),a.addEventListener("error",l.error,!1),a.readyState>=a.HAVE_FUTURE_DATA&&i&&this._sourceLoaded(a,s,i),a.load(),this._addToParent&&this._addToParent(s,a,"video"),"requestVideoFrameCallback"in HTMLVideoElement.prototype&&(l.videoFrameCallback=s._videoFrameCallback.bind(s),s._videoFrameCallbackID=a.requestVideoFrameCallback(l.videoFrameCallback))}loadVideos(e,t,i,o){for(let a=0;a<e.length;a++)this.loadVideo(e[a],t,i,o)}loadCanvas(e,t={},i){let o=Object.assign({},t);this._parent&&(o=Object.assign(t,this._parent._texturesOptions)),o.loader=this,o.sampler=e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):o.sampler;const a=new mt(this.renderer,o);this._addElement(e,a,i,null),this._sourceLoaded(e,a,i),this._parent&&this._addToParent(a,e,"canvas")}loadCanvases(e,t,i){for(let o=0;o<e.length;o++)this.loadCanvas(e[o],t,i)}_removeSource(e){const t=this.elements.find(i=>i.texture.uuid===e.uuid);t&&(e.sourceType==="image"?t.source.removeEventListener("load",t.load,!1):e.sourceType==="video"&&(t.videoFrameCallback&&e._videoFrameCallbackID&&t.source.cancelVideoFrameCallback(e._videoFrameCallbackID),t.source.removeEventListener("canplaythrough",t.load,!1),t.source.pause(),t.source.removeAttribute("src"),t.source.load()),t.source.removeEventListener("error",t.error,!1))}}class bc extends hc{constructor(e,t,{sourcesLoaded:i=0,sourcesToLoad:o=0,complete:a=!1,onComplete:r=()=>{}}={}){super(e,t.crossOrigin),this.type="PlaneTextureLoader",this._parent=t,this._parent.type!=="Plane"&&this._parent.type!=="PingPongPlane"&&this._parent.type!=="ShaderPass"&&(R(this.type+": Wrong parent type assigned to this loader"),this._parent=null),this.sourcesLoaded=i,this.sourcesToLoad=o,this.complete=a,this.onComplete=r}_setLoaderSize(e){this.sourcesToLoad=e,this.sourcesToLoad===0&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_increment(){this.sourcesLoaded++,this.sourcesLoaded>=this.sourcesToLoad&&!this.complete&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_addSourceToParent(e,t){if(t==="image"){const i=this._parent.images;!i.find(a=>a.src===e.src)&&i.push(e)}else if(t==="video"){const i=this._parent.videos;!i.find(a=>a.src===e.src)&&i.push(e)}else if(t==="canvas"){const i=this._parent.canvases;!i.find(a=>a.isSameNode(e))&&i.push(e)}}_addToParent(e,t,i){this._addSourceToParent(t,i),this._parent&&e.addParent(this._parent)}}class uc{constructor(e,t="Mesh",{vertexShaderID:i,fragmentShaderID:o,vertexShader:a,fragmentShader:r,uniforms:s={},widthSegments:l=1,heightSegments:f=1,renderOrder:c=0,depthTest:h=!0,cullFace:d="back",texturesOptions:b={},crossOrigin:p="anonymous"}={}){if(this.type=t,e=e&&e.renderer||e,(!e||e.type!=="Renderer")&&(ee(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",e),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=e,this.gl=this.renderer.gl,!this.gl){this.renderer.production||ee(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0);return}this._canDraw=!1,this.renderOrder=c,this._depthTest=h,this.cullFace=d,this.cullFace!=="back"&&this.cullFace!=="front"&&this.cullFace!=="none"&&(this.cullFace="back"),this.textures=[],this._texturesOptions=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},b),this.crossOrigin=p,!a&&i&&document.getElementById(i)&&(a=document.getElementById(i).innerHTML),!r&&o&&document.getElementById(o)&&(r=document.getElementById(o).innerHTML),this._initMesh(),l=parseInt(l),f=parseInt(f),this._geometry=new fc(this.renderer,{width:l,height:f}),this._program=new ia(this.renderer,{parent:this,vertexShader:a,fragmentShader:r}),this._program.compiled?(this._program.createUniforms(s),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=ln(),this.loader=new bc(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new ia(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(e){if(!e||e.type!=="RenderTarget"){this.renderer.production||R(this.type+": Could not set the render target because the argument passed is not a RenderTarget class object",e);return}this.type==="Plane"&&this.renderer.scene.removePlane(this),this.target=e,this.type==="Plane"&&this.renderer.scene.addPlane(this)}setRenderOrder(e=0){e=isNaN(e)?this.renderOrder:parseInt(e),e!==this.renderOrder&&(this.renderOrder=e,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(e={}){const t=new mt(this.renderer,Object.assign(this._texturesOptions,e));return t.addParent(this),t}addTexture(e){if(!e||e.type!=="Texture"){this.renderer.production||R(this.type+": cannot add ",e," to this "+this.type+" because it is not a valid texture");return}e.addParent(this)}loadSources(e,t={},i,o){for(let a=0;a<e.length;a++)this.loadSource(e[a],t,i,o)}loadSource(e,t={},i,o){this.loader.loadSource(e,Object.assign(t,this._texturesOptions),a=>{i&&i(a)},(a,r)=>{this.renderer.production||R(this.type+": this HTML tag could not be converted into a texture:",a.tagName),o&&o(a,r)})}loadImage(e,t={},i,o){this.loader.loadImage(e,Object.assign(t,this._texturesOptions),a=>{i&&i(a)},(a,r)=>{this.renderer.production||R(this.type+`: There has been an error:
`,r,`
while loading this image:
`,a),o&&o(a,r)})}loadVideo(e,t={},i,o){this.loader.loadVideo(e,Object.assign(t,this._texturesOptions),a=>{i&&i(a)},(a,r)=>{this.renderer.production||R(this.type+`: There has been an error:
`,r,`
while loading this video:
`,a),o&&o(a,r)})}loadCanvas(e,t={},i){this.loader.loadCanvas(e,Object.assign(t,this._texturesOptions),o=>{i&&i(o)})}loadImages(e,t={},i,o){for(let a=0;a<e.length;a++)this.loadImage(e[a],t,i,o)}loadVideos(e,t={},i,o){for(let a=0;a<e.length;a++)this.loadVideo(e[a],t,i,o)}loadCanvases(e,t={},i){for(let o=0;o<e.length;o++)this.loadCanvas(e[o],t,i)}playVideos(){for(let e=0;e<this.textures.length;e++){const t=this.textures[e];if(t.sourceType==="video"){const i=t.source.play();i!==void 0&&i.catch(o=>{this.renderer.production||R(this.type+": Could not play the video : ",o)})}}}_draw(){this.renderer.setDepthTest(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let e=0;e<this.textures.length;e++)if(this.textures[e]._draw(),this.textures[e]._sampler.isActive&&!this.textures[e]._sampler.isTextureBound)return;this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(e){return e&&(this._onErrorCallback=e),this}onLoading(e){return e&&(this._onLoadingCallback=e),this}onReady(e){return e&&(this._onReadyCallback=e),this}onRender(e){return e&&(this._onRenderCallback=e),this}onAfterRender(e){return e&&(this._onAfterRenderCallback=e),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),this.type==="Plane"?this.renderer.removePlane(this):this.type==="ShaderPass"&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&this.type==="ShaderPass"&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let e=0;e<this.textures.length;e++)this.textures[e]._dispose();this.textures=[]}}}const oa=new de,pc=new de;class mc extends uc{constructor(e,t,i="DOMMesh",{widthSegments:o,heightSegments:a,renderOrder:r,depthTest:s,cullFace:l,uniforms:f,vertexShaderID:c,fragmentShaderID:h,vertexShader:d,fragmentShader:b,texturesOptions:p,crossOrigin:u}={}){c=c||t&&t.getAttribute("data-vs-id"),h=h||t&&t.getAttribute("data-fs-id"),super(e,i,{widthSegments:o,heightSegments:a,renderOrder:r,depthTest:s,cullFace:l,uniforms:f,vertexShaderID:c,fragmentShaderID:h,vertexShader:d,fragmentShader:b,texturesOptions:p,crossOrigin:u}),this.gl&&(this.htmlElement=t,(!this.htmlElement||this.htmlElement.length===0)&&(this.renderer.production||R(this.type+": The HTML element you specified does not currently exists in the DOM")),this._setDocumentSizes())}_setDocumentSizes(){let e=this.htmlElement.getBoundingClientRect();this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:e.width*this.renderer.pixelRatio,height:e.height*this.renderer.pixelRatio,top:e.top*this.renderer.pixelRatio,left:e.left*this.renderer.pixelRatio}}getBoundingRect(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}}resize(){this._setDocumentSizes(),this.type==="Plane"&&(this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions());for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this.renderer.nextRender.add(()=>this._onAfterResizeCallback&&this._onAfterResizeCallback())}mouseToPlaneCoords(e){const t=this.scale?this.scale:pc.set(1,1),i=oa.set((this._boundingRect.document.width-this._boundingRect.document.width*t.x)/2,(this._boundingRect.document.height-this._boundingRect.document.height*t.y)/2),o={width:this._boundingRect.document.width*t.x/this.renderer.pixelRatio,height:this._boundingRect.document.height*t.y/this.renderer.pixelRatio,top:(this._boundingRect.document.top+i.y)/this.renderer.pixelRatio,left:(this._boundingRect.document.left+i.x)/this.renderer.pixelRatio};return oa.set((e.x-o.left)/o.width*2-1,1-(e.y-o.top)/o.height*2)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}}class gc{constructor({fov:e=50,near:t=.1,far:i=150,width:o,height:a,pixelRatio:r=1}={}){this.position=new V,this.projectionMatrix=new Te,this.worldMatrix=new Te,this.viewMatrix=new Te,this._shouldUpdate=!1,this.setSize(),this.setPerspective(e,t,i,o,a,r)}setFov(e){e=isNaN(e)?this.fov:parseFloat(e),e=Math.max(1,Math.min(e,179)),e!==this.fov&&(this.fov=e,this.setPosition(),this._shouldUpdate=!0),this.setCSSPerspective()}setNear(e){e=isNaN(e)?this.near:parseFloat(e),e=Math.max(e,.01),e!==this.near&&(this.near=e,this._shouldUpdate=!0)}setFar(e){e=isNaN(e)?this.far:parseFloat(e),e=Math.max(e,50),e!==this.far&&(this.far=e,this._shouldUpdate=!0)}setPixelRatio(e){e!==this.pixelRatio&&(this._shouldUpdate=!0),this.pixelRatio=e}setSize(e,t){(e!==this.width||t!==this.height)&&(this._shouldUpdate=!0),this.width=e,this.height=t}setPerspective(e,t,i,o,a,r){this.setPixelRatio(r),this.setSize(o,a),this.setFov(e),this.setNear(t),this.setFar(i),this._shouldUpdate&&this.updateProjectionMatrix()}setPosition(){this.position.set(0,0,1),this.worldMatrix.setFromArray([1,0,0,0,0,1,0,0,0,0,1,0,this.position.x,this.position.y,this.position.z,1]),this.viewMatrix=this.viewMatrix.copy(this.worldMatrix).getInverse()}setCSSPerspective(){this.CSSPerspective=Math.pow(Math.pow(this.width/(2*this.pixelRatio),2)+Math.pow(this.height/(2*this.pixelRatio),2),.5)/Math.tan(this.fov*.5*Math.PI/180)}getScreenRatiosFromFov(e=0){const t=this.position.z;e<t?e-=t:e+=t;const i=this.fov*Math.PI/180,o=2*Math.tan(i/2)*Math.abs(e);return{width:o*this.width/this.height,height:o}}updateProjectionMatrix(){const e=this.width/this.height,t=this.near*Math.tan(Math.PI/180*.5*this.fov),i=2*t,o=e*i,a=-.5*o,r=a+o,s=t-i,l=2*this.near/(r-a),f=2*this.near/(t-s),c=(r+a)/(r-a),h=(t+s)/(t-s),d=-(this.far+this.near)/(this.far-this.near),b=-2*this.far*this.near/(this.far-this.near);this.projectionMatrix.setFromArray([l,0,0,0,0,f,0,0,c,h,d,-1,0,0,b,0])}forceUpdate(){this._shouldUpdate=!0}cancelUpdate(){this._shouldUpdate=!1}}class Qt{constructor(e=new Float32Array([0,0,0,1]),t="XYZ"){this.type="Quat",this.elements=e,this.axisOrder=t}setFromArray(e){return this.elements[0]=e[0],this.elements[1]=e[1],this.elements[2]=e[2],this.elements[3]=e[3],this}setAxisOrder(e){switch(e=e.toUpperCase(),e){case"XYZ":case"YXZ":case"ZXY":case"ZYX":case"YZX":case"XZY":this.axisOrder=e;break;default:this.axisOrder="XYZ"}return this}copy(e){return this.elements=e.elements,this.axisOrder=e.axisOrder,this}clone(){return new Qt().copy(this)}equals(e){return this.elements[0]===e.elements[0]&&this.elements[1]===e.elements[1]&&this.elements[2]===e.elements[2]&&this.elements[3]===e.elements[3]&&this.axisOrder===e.axisOrder}setFromVec3(e){const t=e.x*.5,i=e.y*.5,o=e.z*.5,a=Math.cos(t),r=Math.cos(i),s=Math.cos(o),l=Math.sin(t),f=Math.sin(i),c=Math.sin(o);return this.axisOrder==="XYZ"?(this.elements[0]=l*r*s+a*f*c,this.elements[1]=a*f*s-l*r*c,this.elements[2]=a*r*c+l*f*s,this.elements[3]=a*r*s-l*f*c):this.axisOrder==="YXZ"?(this.elements[0]=l*r*s+a*f*c,this.elements[1]=a*f*s-l*r*c,this.elements[2]=a*r*c-l*f*s,this.elements[3]=a*r*s+l*f*c):this.axisOrder==="ZXY"?(this.elements[0]=l*r*s-a*f*c,this.elements[1]=a*f*s+l*r*c,this.elements[2]=a*r*c+l*f*s,this.elements[3]=a*r*s-l*f*c):this.axisOrder==="ZYX"?(this.elements[0]=l*r*s-a*f*c,this.elements[1]=a*f*s+l*r*c,this.elements[2]=a*r*c-l*f*s,this.elements[3]=a*r*s+l*f*c):this.axisOrder==="YZX"?(this.elements[0]=l*r*s+a*f*c,this.elements[1]=a*f*s+l*r*c,this.elements[2]=a*r*c-l*f*s,this.elements[3]=a*r*s-l*f*c):this.axisOrder==="XZY"&&(this.elements[0]=l*r*s-a*f*c,this.elements[1]=a*f*s-l*r*c,this.elements[2]=a*r*c+l*f*s,this.elements[3]=a*r*s+l*f*c),this}}const _c=new de,yc=new V,vc=new V,wc=new V,xc=new V,Ec=new V,Tc=new V,se=new V,le=new V,aa=new Qt,kc=new V(.5,.5,0),Ac=new V,Sc=new V,Cc=new V,Oc=new V,Pc=new de;class Rc extends mc{constructor(e,t,{widthSegments:i,heightSegments:o,renderOrder:a,depthTest:r,cullFace:s,uniforms:l,vertexShaderID:f,fragmentShaderID:c,vertexShader:h,fragmentShader:d,texturesOptions:b,crossOrigin:p,alwaysDraw:u=!1,visible:g=!0,transparent:v=!1,drawCheckMargins:x={top:0,right:0,bottom:0,left:0},autoloadSources:C=!0,watchScroll:w=!0,fov:S=50}={}){super(e,t,"Plane",{widthSegments:i,heightSegments:o,renderOrder:a,depthTest:r,cullFace:s,uniforms:l,vertexShaderID:f,fragmentShaderID:c,vertexShader:h,fragmentShader:d,texturesOptions:b,crossOrigin:p}),this.gl&&(this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=u,this._shouldDraw=!0,this.visible=g,this._transparent=v,this.drawCheckMargins=x,this.autoloadSources=C,this.watchScroll=w,this._updateMVMatrix=!1,this.camera=new gc({fov:S,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this)))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let e=0;e<this.textures.length;e++)this.textures[e]._parent=this,this.textures[e]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new V,this.rotation.onChange(()=>this._applyRotation()),this.quaternion=new Qt,this.relativeTranslation=new V,this.relativeTranslation.onChange(()=>this._setTranslation()),this._translation=new V,this.scale=new V(1),this.scale.onChange(()=>{this.scale.z=1,this._applyScale()}),this.transformOrigin=new V(.5,.5,0),this.transformOrigin.onChange(()=>{this._setWorldTransformOrigin(),this._updateMVMatrix=!0})}resetPlane(e){this._initTransformValues(),this._setWorldTransformOrigin(),e!==null&&!!e?(this.htmlElement=e,this.resize()):!e&&!this.renderer.production&&R(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._setWorldSizes(),this._applyWorldPositions()}_initMatrices(){const e=new Te;this._matrices={world:{matrix:e},modelView:{name:"uMVMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},projection:{name:"uPMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")},modelViewProjection:{matrix:e}}}_setPerspectiveMatrix(){this.camera._shouldUpdate&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.projection.location,!1,this._matrices.projection.matrix.elements)),this.camera.cancelUpdate()}setPerspective(e,t,i){this.camera.setPerspective(e,t,i,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.projection.matrix=this.camera.projectionMatrix,this.camera._shouldUpdate&&(this._setWorldSizes(),this._applyWorldPositions(),this._translation.z=this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){this._updateMVMatrix&&(this._matrices.world.matrix=this._matrices.world.matrix.composeFromOrigin(this._translation,this.quaternion,this.scale,this._boundingRect.world.transformOrigin),this._matrices.world.matrix.scale({x:this._boundingRect.world.width,y:this._boundingRect.world.height,z:1}),this._matrices.modelView.matrix.copy(this._matrices.world.matrix),this._matrices.modelView.matrix.elements[14]-=this.camera.position.z,this._matrices.modelViewProjection.matrix=this._matrices.projection.matrix.multiply(this._matrices.modelView.matrix),this.alwaysDraw||this._shouldDrawCheck(),this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.modelView.location,!1,this._matrices.modelView.matrix.elements)),this._updateMVMatrix=!1}_setWorldTransformOrigin(){this._boundingRect.world.transformOrigin=new V((this.transformOrigin.x*2-1)*this._boundingRect.world.width,-(this.transformOrigin.y*2-1)*this._boundingRect.world.height,this.transformOrigin.z)}_documentToWorldSpace(e){return vc.set(e.x*this.renderer.pixelRatio/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width,-(e.y*this.renderer.pixelRatio/this.renderer._boundingRect.height)*this._boundingRect.world.ratios.height,e.z)}_setWorldSizes(){const e=this.camera.getScreenRatiosFromFov();this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width*e.width/2,height:this._boundingRect.document.height/this.renderer._boundingRect.height*e.height/2,ratios:e},this._setWorldTransformOrigin()}_setWorldPosition(){const e={x:this._boundingRect.document.width/2+this._boundingRect.document.left,y:this._boundingRect.document.height/2+this._boundingRect.document.top},t={x:this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,y:this.renderer._boundingRect.height/2+this.renderer._boundingRect.top};this._boundingRect.world.top=(t.y-e.y)/this.renderer._boundingRect.height*this._boundingRect.world.ratios.height,this._boundingRect.world.left=(e.x-t.x)/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||R(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(_c.set(.001,.001)),(e.x!==this.scale.x||e.y!==this.scale.y)&&(this.scale.set(e.x,e.y,1),this._applyScale())}_applyScale(){for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this._updateMVMatrix=!0}setRotation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||R(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.rotation),e.equals(this.rotation)||(this.rotation.copy(e),this._applyRotation())}_applyRotation(){this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0}setTransformOrigin(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||R(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.transformOrigin),e.equals(this.transformOrigin)||(this.transformOrigin.copy(e),this._setWorldTransformOrigin(),this._updateMVMatrix=!0)}_setTranslation(){let e=yc.set(0,0,0);this.relativeTranslation.equals(e)||(e=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+e.x,this._boundingRect.world.top+e.y,this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=!0}setRelativeTranslation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||R(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.relativeTranslation),e.equals(this.relativeTranslation)||(this.relativeTranslation.copy(e),this._setTranslation())}_applyWorldPositions(){this._setWorldPosition(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(e,t){(e||t)&&(this._boundingRect.document.top+=t*this.renderer.pixelRatio,this._boundingRect.document.left+=e*this.renderer.pixelRatio,this._applyWorldPositions())}_getIntersection(e,t){let i=t.clone().sub(e),o=e.clone();for(;o.z>-1;)o.add(i);return o}_getNearPlaneIntersections(e,t,i){const o=this._matrices.modelViewProjection.matrix;if(i.length===1)i[0]===0?(t[0]=this._getIntersection(t[1],se.set(.95,1,0).applyMat4(o)),t.push(this._getIntersection(t[3],le.set(-1,-.95,0).applyMat4(o)))):i[0]===1?(t[1]=this._getIntersection(t[0],se.set(-.95,1,0).applyMat4(o)),t.push(this._getIntersection(t[2],le.set(1,-.95,0).applyMat4(o)))):i[0]===2?(t[2]=this._getIntersection(t[3],se.set(-.95,-1,0).applyMat4(o)),t.push(this._getIntersection(t[1],le.set(1,.95,0).applyMat4(o)))):i[0]===3&&(t[3]=this._getIntersection(t[2],se.set(.95,-1,0).applyMat4(o)),t.push(this._getIntersection(t[0],le.set(-1,.95,0).applyMat4(o))));else if(i.length===2)i[0]===0&&i[1]===1?(t[0]=this._getIntersection(t[3],se.set(-1,-.95,0).applyMat4(o)),t[1]=this._getIntersection(t[2],le.set(1,-.95,0).applyMat4(o))):i[0]===1&&i[1]===2?(t[1]=this._getIntersection(t[0],se.set(-.95,1,0).applyMat4(o)),t[2]=this._getIntersection(t[3],le.set(-.95,-1,0).applyMat4(o))):i[0]===2&&i[1]===3?(t[2]=this._getIntersection(t[1],se.set(1,.95,0).applyMat4(o)),t[3]=this._getIntersection(t[0],le.set(-1,.95,0).applyMat4(o))):i[0]===0&&i[1]===3&&(t[0]=this._getIntersection(t[1],se.set(.95,1,0).applyMat4(o)),t[3]=this._getIntersection(t[2],le.set(.95,-1,0).applyMat4(o)));else if(i.length===3){let a=0;for(let r=0;r<e.length;r++)i.includes(r)||(a=r);t=[t[a]],a===0?(t.push(this._getIntersection(t[0],se.set(-.95,1,0).applyMat4(o))),t.push(this._getIntersection(t[0],le.set(-1,.95,0).applyMat4(o)))):a===1?(t.push(this._getIntersection(t[0],se.set(.95,1,0).applyMat4(o))),t.push(this._getIntersection(t[0],le.set(1,.95,0).applyMat4(o)))):a===2?(t.push(this._getIntersection(t[0],se.set(.95,-1,0).applyMat4(o))),t.push(this._getIntersection(t[0],le.set(1,-.95,0).applyMat4(o)))):a===3&&(t.push(this._getIntersection(t[0],se.set(-.95,-1,0).applyMat4(o))),t.push(this._getIntersection(t[0],le.set(-1-.95,0).applyMat4(o))))}else for(let a=0;a<e.length;a++)t[a][0]=1e4,t[a][1]=1e4;return t}_getWorldCoords(){const e=[wc.set(-1,1,0),xc.set(1,1,0),Ec.set(1,-1,0),Tc.set(-1,-1,0)];let t=[],i=[];for(let l=0;l<e.length;l++){const f=e[l].applyMat4(this._matrices.modelViewProjection.matrix);t.push(f),Math.abs(f.z)>1&&i.push(l)}i.length&&(t=this._getNearPlaneIntersections(e,t,i));let o=1/0,a=-1/0,r=1/0,s=-1/0;for(let l=0;l<t.length;l++){const f=t[l];f.x<o&&(o=f.x),f.x>a&&(a=f.x),f.y<r&&(r=f.y),f.y>s&&(s=f.y)}return{top:s,right:a,bottom:r,left:o}}_computeWebGLBoundingRect(){const e=this._getWorldCoords();let t={top:1-(e.top+1)/2,right:(e.right+1)/2,bottom:1-(e.bottom+1)/2,left:(e.left+1)/2};t.width=t.right-t.left,t.height=t.bottom-t.top,this._boundingRect.worldToDocument={width:t.width*this.renderer._boundingRect.width,height:t.height*this.renderer._boundingRect.height,top:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+t.width*this.renderer._boundingRect.width,bottom:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+t.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){if(this._matrices.modelViewProjection)(!this._boundingRect.worldToDocument||this.alwaysDraw)&&this._computeWebGLBoundingRect();else return this._boundingRect.document;return this._boundingRect.worldToDocument}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){const e=this._getWebGLDrawRect();Math.round(e.right)<=this.renderer._boundingRect.left||Math.round(e.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(e.bottom)<=this.renderer._boundingRect.top||Math.round(e.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}enableDepthTest(e){this._depthTest=e}_initSources(){let e=0;if(this.autoloadSources){const t=this.htmlElement.getElementsByTagName("img"),i=this.htmlElement.getElementsByTagName("video"),o=this.htmlElement.getElementsByTagName("canvas");t.length&&this.loadImages(t),i.length&&this.loadVideos(i),o.length&&this.loadCanvases(o),e=t.length+i.length+o.length}this.loader._setLoaderSize(e),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):this.renderer.state.scenePassIndex===null&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}mouseToPlaneCoords(e){if(aa.setAxisOrder(this.quaternion.axisOrder),aa.equals(this.quaternion)&&kc.equals(this.transformOrigin))return super.mouseToPlaneCoords(e);{const t={x:2*(e.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio))-1,y:2*(1-e.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio))-1},i=this.camera.position.clone(),o=Ac.set(t.x,t.y,-.5);o.unproject(this.camera),o.sub(i).normalize();const a=Sc.set(0,0,-1);a.applyQuat(this.quaternion).normalize();const r=Oc.set(0,0,0),s=a.dot(o);if(Math.abs(s)>=1e-4){const l=this._matrices.world.matrix.getInverse().multiply(this.camera.viewMatrix),f=this._boundingRect.world.transformOrigin.clone().add(this._translation),c=Cc.set(this._translation.x-f.x,this._translation.y-f.y,this._translation.z-f.z);c.applyQuat(this.quaternion),f.add(c);const h=a.dot(f.clone().sub(i))/s;r.copy(i.add(o.multiplyScalar(h))),r.applyMat4(l)}else r.set(1/0,1/0,1/0);return Pc.set(r.x,r.y)}}onReEnterView(e){return e&&(this._onReEnterViewCallback=e),this}onLeaveView(e){return e&&(this._onLeaveViewCallback=e),this}}window.addEventListener("load",()=>{const n=new de,e=new de,t={max:0,applied:0},i=new Kf({container:"canvas",watchScroll:!1,pixelRatio:Math.min(1.5,window.devicePixelRatio)});i.onError(()=>{document.body.classList.add("no-curtains")}).onContextLost(()=>{i.restoreContext()});const o=document.getElementsByClassName("curtain"),s={vertexShader:`
          precision mediump float;
          // default mandatory variables
          attribute vec3 aVertexPosition;
          attribute vec2 aTextureCoord;
          uniform mat4 uMVMatrix;
          uniform mat4 uPMatrix;
          
          // our texture matrix uniform
          uniform mat4 simplePlaneTextureMatrix;
          // custom variables
          varying vec3 vVertexPosition;
          varying vec2 vTextureCoord;
          uniform float uTime;
          uniform vec2 uResolution;
          uniform vec2 uMousePosition;
          uniform float uMouseMoveStrength;
          void main() {
              vec3 vertexPosition = aVertexPosition;
              // get the distance between our vertex and the mouse position
              float distanceFromMouse = distance(uMousePosition, vec2(vertexPosition.x, vertexPosition.y));
              // calculate our wave effect
              float waveSinusoid = cos(5.0 * (distanceFromMouse - (uTime / 75.0)));
              // attenuate the effect based on mouse distance
              float distanceStrength = (0.4 / (distanceFromMouse + 0.4));
              // calculate our distortion effect
              float distortionEffect = distanceStrength * waveSinusoid * uMouseMoveStrength;
              // apply it to our vertex position
              vertexPosition.z +=  distortionEffect / 30.0;
              vertexPosition.x +=  (distortionEffect / 30.0 * (uResolution.x / uResolution.y) * (uMousePosition.x - vertexPosition.x));
              vertexPosition.y +=  distortionEffect / 30.0 * (uMousePosition.y - vertexPosition.y);
              gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);
              // varyings
              vTextureCoord = (simplePlaneTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
              vVertexPosition = vertexPosition;
          }
      `,fragmentShader:`
          precision mediump float;
          varying vec3 vVertexPosition;
          varying vec2 vTextureCoord;
          uniform sampler2D simplePlaneTexture;
          void main() {
              // apply our texture
              vec4 finalColor = texture2D(simplePlaneTexture, vTextureCoord);
              // fake shadows based on vertex position along Z axis
              finalColor.rgb -= clamp(-vVertexPosition.z, 0.0, 1.0);
              // fake lights based on vertex position along Z axis
              finalColor.rgb += clamp(vVertexPosition.z, 0.0, 1.0);
              // handling premultiplied alpha (useful if we were using a png with transparency)
              finalColor = vec4(finalColor.rgb * finalColor.a, finalColor.a);
              gl_FragColor = finalColor;
          }
      `,widthSegments:20,heightSegments:20,uniforms:{resolution:{name:"uResolution",type:"2f",value:[o[0].clientWidth,o[0].clientHeight]},time:{name:"uTime",type:"1f",value:0},mousePosition:{name:"uMousePosition",type:"2f",value:n},mouseMoveStrength:{name:"uMouseMoveStrength",type:"1f",value:0}}},l=new Rc(i,o[0],s);l.onReady(()=>{l.setPerspective(35),t.max=2;const c=document.getElementById("img-wrapper");c.addEventListener("mousemove",h=>{f(h,l)}),c.addEventListener("touchmove",h=>{f(h,l)},{passive:!0})}).onRender(()=>{l.uniforms.time.value++,t.applied+=(t.max-t.applied)*.02,t.max+=(0-t.max)*.01,l.uniforms.mouseMoveStrength.value=t.applied}).onAfterResize(()=>{const c=l.getBoundingRect();l.uniforms.resolution.value=[c.width,c.height]}).onError(()=>{document.body.classList.add("no-curtains")});function f(c,h){e.copy(n);const d=new de;if(c.targetTouches?d.set(c.targetTouches[0].clientX,c.targetTouches[0].clientY):d.set(c.clientX,c.clientY),n.set(i.lerp(n.x,d.x,.3),i.lerp(n.y,d.y,.3)),h.uniforms.mousePosition.value=h.mouseToPlaneCoords(n),e.x&&e.y){let b=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))/30;b=Math.min(4,b),b>=t.max&&(t.max=b)}}});const Fi=document.querySelector("#contact_form"),Ui=document.querySelector("#name"),Vi=document.querySelector("#email"),ji=document.querySelector("#subject"),$t=document.querySelector("#message"),cn=document.querySelector("#send"),Lc=document.querySelector(".thanks"),na=document.querySelector(".spinner-border"),Mc=document.querySelector(".valid-feedback"),dn=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Dc="<YOUR_FORM_URL_HERE>",ra="is-invalid",xi="is-valid";function Zt(n,e){const t=n.target;e?(t.classList.add(xi),t.classList.remove(ra)):(t.classList.add(ra),t.classList.remove(xi))}Ui.addEventListener("keyup",n=>{Zt(n,n.target.value.length>1),Jt()});Vi.addEventListener("keyup",n=>{Zt(n,!!n.target.value.match(dn)),Jt()});ji.addEventListener("keyup",n=>{Zt(n,n.target.value.length>2),Jt()});$t.addEventListener("keyup",n=>{Zt(n,n.target.value.split(" ").length>5),Jt(),Mc.textContent=`${$t.value.length} / 400`});function Jt(){cn.disabled=!(Ui.value.length>1&&Vi.value.match(dn)&&ji.value.length>2&&$t.value.split(" ").length>5)}async function Nc(n){n.preventDefault(),cn.style.display="none",na.style.display="inline-block";let e=new FormData(Fi);await fetch(Dc,{method:"POST",body:e}),na.style.display="none",Lc.style.display="block",n.target.reset(),[Ui,Vi,ji,$t].forEach(t=>{t.classList.remove(xi)})}Fi.addEventListener("submit",Nc);Fi.reset();var hn={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(nn,function(){return function(t){function i(a){if(o[a])return o[a].exports;var r=o[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var o={};return i.m=t,i.c=o,i.p="dist/",i(0)}([function(t,i,o){function a(T){return T&&T.__esModule?T:{default:T}}var r=Object.assign||function(T){for(var I=1;I<arguments.length;I++){var O=arguments[I];for(var U in O)Object.prototype.hasOwnProperty.call(O,U)&&(T[U]=O[U])}return T},s=o(1),l=(a(s),o(6)),f=a(l),c=o(7),h=a(c),d=o(8),b=a(d),p=o(9),u=a(p),g=o(10),v=a(g),x=o(11),C=a(x),w=o(14),S=a(w),E=[],P=!1,k={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var T=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(T&&(P=!0),P)return E=(0,C.default)(E,k),(0,v.default)(E,k.once),E},N=function(){E=(0,S.default)(),D()},y=function(){E.forEach(function(T,I){T.node.removeAttribute("data-aos"),T.node.removeAttribute("data-aos-easing"),T.node.removeAttribute("data-aos-duration"),T.node.removeAttribute("data-aos-delay")})},_=function(T){return T===!0||T==="mobile"&&u.default.mobile()||T==="phone"&&u.default.phone()||T==="tablet"&&u.default.tablet()||typeof T=="function"&&T()===!0},A=function(T){k=r(k,T),E=(0,S.default)();var I=document.all&&!window.atob;return _(k.disable)||I?y():(k.disableMutationObserver||b.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),k.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",k.easing),document.querySelector("body").setAttribute("data-aos-duration",k.duration),document.querySelector("body").setAttribute("data-aos-delay",k.delay),k.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):k.startEvent==="load"?window.addEventListener(k.startEvent,function(){D(!0)}):document.addEventListener(k.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,h.default)(D,k.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(D,k.debounceDelay,!0)),window.addEventListener("scroll",(0,f.default)(function(){(0,v.default)(E,k.once)},k.throttleDelay)),k.disableMutationObserver||b.default.ready("[data-aos]",N),E)};t.exports={init:A,refresh:D,refreshHard:N}},function(t,i){},,,,,function(t,i){(function(o){function a(_,A,T){function I(z){var X=B,me=W;return B=W=void 0,ye=z,j=_.apply(me,X)}function O(z){return ye=z,$=setTimeout(H,A),re?I(z):j}function U(z){var X=z-q,me=z-ye,ft=A-X;return pe?N(ft,G-me):ft}function K(z){var X=z-q,me=z-ye;return q===void 0||X>=A||X<0||pe&&me>=G}function H(){var z=y();return K(z)?ne(z):void($=setTimeout(H,U(z)))}function ne(z){return $=void 0,F&&B?I(z):(B=W=void 0,j)}function De(){$!==void 0&&clearTimeout($),ye=0,B=q=W=$=void 0}function ue(){return $===void 0?j:ne(y())}function Q(){var z=y(),X=K(z);if(B=arguments,W=this,q=z,X){if($===void 0)return O(q);if(pe)return $=setTimeout(H,A),I(q)}return $===void 0&&($=setTimeout(H,A)),j}var B,W,G,j,$,q,ye=0,re=!1,pe=!1,F=!0;if(typeof _!="function")throw new TypeError(d);return A=c(A)||0,s(T)&&(re=!!T.leading,pe="maxWait"in T,G=pe?D(c(T.maxWait)||0,A):G,F="trailing"in T?!!T.trailing:F),Q.cancel=De,Q.flush=ue,Q}function r(_,A,T){var I=!0,O=!0;if(typeof _!="function")throw new TypeError(d);return s(T)&&(I="leading"in T?!!T.leading:I,O="trailing"in T?!!T.trailing:O),a(_,A,{leading:I,maxWait:A,trailing:O})}function s(_){var A=typeof _=="undefined"?"undefined":h(_);return!!_&&(A=="object"||A=="function")}function l(_){return!!_&&(typeof _=="undefined"?"undefined":h(_))=="object"}function f(_){return(typeof _=="undefined"?"undefined":h(_))=="symbol"||l(_)&&k.call(_)==p}function c(_){if(typeof _=="number")return _;if(f(_))return b;if(s(_)){var A=typeof _.valueOf=="function"?_.valueOf():_;_=s(A)?A+"":A}if(typeof _!="string")return _===0?_:+_;_=_.replace(u,"");var T=v.test(_);return T||x.test(_)?C(_.slice(2),T?2:8):g.test(_)?b:+_}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},d="Expected a function",b=NaN,p="[object Symbol]",u=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,x=/^0o[0-7]+$/i,C=parseInt,w=(typeof o=="undefined"?"undefined":h(o))=="object"&&o&&o.Object===Object&&o,S=(typeof self=="undefined"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,E=w||S||Function("return this")(),P=Object.prototype,k=P.toString,D=Math.max,N=Math.min,y=function(){return E.Date.now()};t.exports=r}).call(i,function(){return this}())},function(t,i){(function(o){function a(y,_,A){function T(F){var z=Q,X=B;return Q=B=void 0,q=F,G=y.apply(X,z)}function I(F){return q=F,j=setTimeout(K,_),ye?T(F):G}function O(F){var z=F-$,X=F-q,me=_-z;return re?D(me,W-X):me}function U(F){var z=F-$,X=F-q;return $===void 0||z>=_||z<0||re&&X>=W}function K(){var F=N();return U(F)?H(F):void(j=setTimeout(K,O(F)))}function H(F){return j=void 0,pe&&Q?T(F):(Q=B=void 0,G)}function ne(){j!==void 0&&clearTimeout(j),q=0,Q=$=B=j=void 0}function De(){return j===void 0?G:H(N())}function ue(){var F=N(),z=U(F);if(Q=arguments,B=this,$=F,z){if(j===void 0)return I($);if(re)return j=setTimeout(K,_),T($)}return j===void 0&&(j=setTimeout(K,_)),G}var Q,B,W,G,j,$,q=0,ye=!1,re=!1,pe=!0;if(typeof y!="function")throw new TypeError(h);return _=f(_)||0,r(A)&&(ye=!!A.leading,re="maxWait"in A,W=re?k(f(A.maxWait)||0,_):W,pe="trailing"in A?!!A.trailing:pe),ue.cancel=ne,ue.flush=De,ue}function r(y){var _=typeof y=="undefined"?"undefined":c(y);return!!y&&(_=="object"||_=="function")}function s(y){return!!y&&(typeof y=="undefined"?"undefined":c(y))=="object"}function l(y){return(typeof y=="undefined"?"undefined":c(y))=="symbol"||s(y)&&P.call(y)==b}function f(y){if(typeof y=="number")return y;if(l(y))return d;if(r(y)){var _=typeof y.valueOf=="function"?y.valueOf():y;y=r(_)?_+"":_}if(typeof y!="string")return y===0?y:+y;y=y.replace(p,"");var A=g.test(y);return A||v.test(y)?x(y.slice(2),A?2:8):u.test(y)?d:+y}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},h="Expected a function",d=NaN,b="[object Symbol]",p=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,v=/^0o[0-7]+$/i,x=parseInt,C=(typeof o=="undefined"?"undefined":c(o))=="object"&&o&&o.Object===Object&&o,w=(typeof self=="undefined"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,S=C||w||Function("return this")(),E=Object.prototype,P=E.toString,k=Math.max,D=Math.min,N=function(){return S.Date.now()};t.exports=a}).call(i,function(){return this}())},function(t,i){function o(c){var h=void 0,d=void 0;for(h=0;h<c.length;h+=1)if(d=c[h],d.dataset&&d.dataset.aos||d.children&&o(d.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!a()}function s(c,h){var d=window.document,b=a(),p=new b(l);f=h,p.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(h){var d=Array.prototype.slice.call(h.addedNodes),b=Array.prototype.slice.call(h.removedNodes),p=d.concat(b);if(o(p))return f()})}Object.defineProperty(i,"__esModule",{value:!0});var f=function(){};i.default={isSupported:r,ready:s}},function(t,i){function o(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function d(b,p){for(var u=0;u<p.length;u++){var g=p[u];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,p,u){return p&&d(b.prototype,p),u&&d(b,u),b}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function d(){o(this,d)}return r(d,[{key:"phone",value:function(){var b=a();return!(!s.test(b)&&!l.test(b.substr(0,4)))}},{key:"mobile",value:function(){var b=a();return!(!f.test(b)&&!c.test(b.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();i.default=new h},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(r,s,l){var f=r.node.getAttribute("data-aos-once");s>r.position?r.node.classList.add("aos-animate"):typeof f!="undefined"&&(f==="false"||!l&&f!=="true")&&r.node.classList.remove("aos-animate")},a=function(r,s){var l=window.pageYOffset,f=window.innerHeight;r.forEach(function(c,h){o(c,f+l,s)})};i.default=a},function(t,i,o){function a(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(i,"__esModule",{value:!0});var r=o(12),s=a(r),l=function(f,c){return f.forEach(function(h,d){h.node.classList.add("aos-init"),h.position=(0,s.default)(h.node,c.offset)}),f};i.default=l},function(t,i,o){function a(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(i,"__esModule",{value:!0});var r=o(13),s=a(r),l=function(f,c){var h=0,d=0,b=window.innerHeight,p={offset:f.getAttribute("data-aos-offset"),anchor:f.getAttribute("data-aos-anchor"),anchorPlacement:f.getAttribute("data-aos-anchor-placement")};switch(p.offset&&!isNaN(p.offset)&&(d=parseInt(p.offset)),p.anchor&&document.querySelectorAll(p.anchor)&&(f=document.querySelectorAll(p.anchor)[0]),h=(0,s.default)(f).top,p.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=f.offsetHeight/2;break;case"bottom-bottom":h+=f.offsetHeight;break;case"top-center":h+=b/2;break;case"bottom-center":h+=b/2+f.offsetHeight;break;case"center-center":h+=b/2+f.offsetHeight/2;break;case"top-top":h+=b;break;case"bottom-top":h+=f.offsetHeight+b;break;case"center-top":h+=f.offsetHeight/2+b}return p.anchorPlacement||p.offset||isNaN(c)||(d=c),h+d};i.default=l},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(a){for(var r=0,s=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)r+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),s+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:s,left:r}};i.default=o},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(r){return{node:r}})};i.default=o}])})})(hn);var Ic=rn(hn.exports);Ic.init({once:!0});
